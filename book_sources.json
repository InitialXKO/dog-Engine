[
  {
    "id": "a628f90f-c6f1-4cab-9cd7-f52b44381c88",
    "name": "🍒阅读库-[wed端]",
    "url": "http://www.yeudusk.com/",
    "enabled": true,
    "group": "月月书源",
    "comment": "By_聆听月与悦 . 2025.5.2",
    "exploreUrl": "[\n  {\n    \"title\": \"玄幻·魔法\",\n    \"url\": \"http://www.yeudusk.com/book/sort1/0/1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"武侠·修真\",\n    \"url\": \"http://www.yeudusk.com/book/sort2/0/1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"都市·言情\",\n    \"url\": \"http://www.yeudusk.com/book/sort3/0/1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"历史·军事\",\n    \"url\": \"http://www.yeudusk.com/book/sort4/0/1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"穿越·架空\",\n    \"url\": \"http://www.yeudusk.com/book/sort5/0/1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"游戏·竞技\",\n    \"url\": \"http://www.yeudusk.com/book/sort6/0/1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"经部\",\n    \"url\": \"http://www.yeudusk.com/book/sort11/0/1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"史部\",\n    \"url\": \"http://www.yeudusk.com/book/sort12/0/1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"子部\",\n    \"url\": \"http://www.yeudusk.com/book/sort13/0/1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"集部\",\n    \"url\": \"http://www.yeudusk.com/book/sort14/0/1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  },\n  {\n    \"title\": \"古典·名著\",\n    \"url\": \"http://www.yeudusk.com/book/sort16/0/1.html\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.29\n    }\n  }\n]",
    "loginUrl": "http://www.yeudusk.com/register.php",
    "bookUrlPattern": "http\\://www.yeudusk.com/book/\\d+/",
    "header": "{\n\"user-agent\": \"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/116.0.0.0 Safari/537.36\"\n}",
    "searchUrl": "http://www.yeudusk.com/modules/article/search.php?q={{key}}",
    "rules": {
      "search": {
        "author": "class.c_tag.0@span.1@text",
        "bookList": "id.jieqi_page_contents@class.c_row",
        "bookUrl": ".fl@a.0@href",
        "checkKeyWord": "我的女儿",
        "coverUrl": "img@src",
        "kind": "class.c_tag.0@span.3@text&&class.c_tag@span.7@text",
        "lastChapter": "class.c_tag.1@text##[最新章节更新：]*",
        "name": "class.c_subject@text",
        "wordCount": "class.c_tag.0@span.5@text"
      },
      "find": {
        "author": "class.c_tag.0@span.1@text",
        "bookList": "class.blockcontent@class.c_row cf",
        "bookUrl": ".fl.0@a@href",
        "coverUrl": "@img@src",
        "intro": ".c_description@text",
        "kind": "class.c_tag.0@span.3@text&&class.c_tag@span.7@text",
        "name": ".fl.1@div.0@a.1@text",
        "wordCount": "class.c_tag.0@span.5@text"
      },
      "bookInfo": {
        "intro": "class.tabvalue@html",
        "tocUrl": "class.btnlink b_hot mbs@href||text.点击阅读@href\n@js:\n(() => {\n    if (!result || result.trim().length === 0) {\n        const idMatch = baseUrl.match(/\\/(\\d+)\\/?$/);\n        if (!idMatch) {\n            java.toast(\"错误: 书籍ID提取失败\");\n            return \"\";\n        }\n        \n        const id = idMatch[1];\n        if (id.length < 3) {\n            java.toast(\"错误: 书籍ID长度不足3位\");\n            return \"\";\n        }\n        \n        const prefix = id.substring(0, 3);\n        return `http://www.yeudusk.com/html/${prefix}/${id}`;\n    } else {\n        return result;\n    }\n})();"
      },
      "toc": {
        "chapterList": "@css:\n.chapters > ul > li,\ndiv.index > ul.chapters > li,\n.chapters > div.volume,\n.index > div.chapters > div.volume\n@js:\nlist = [];\nlist.push({\n    text: \"💮↓ 试读卷 ↓💮\",\n    volume: true\n});\n$ = result;\nfor (i in $) {\n    if (/volume/.test(String($[i]))) {\n        text = \"🏮↓〖\" + String($[i].text()) + \"〗↓🏮\";\n        list.push({\n            text: text,\n            volume: true\n        });\n    } else {  \n        $[i].select(\"li\").forEach(a => {\n            text = a.select(\"a\").text();\n            info = String(a.select(\"a\").attr(\"title\")).replace(/更新，共/g, '');\n            href = a.select(\"a\").attr(\"href\");\n            list.push({   \n                text: text,\n                info: info,\n                href: href\n            });\n        });\n    }\n}\nlist",
        "chapterName": "text",
        "chapterUrl": "href",
        "isVolume": "volume",
        "updateTime": "info"
      },
      "content": {
        "content": " id.clickeye_content@html",
        "nextContentUrl": "text.下一页@href",
        "replaceRegex": "@js:\ncontent = result.replace(/阅读库\\s*www\\.yeudusk\\.com.*?www\\.yeudusk\\.com/g, '').replace(/\\(+\\s*阅读库\\s*www\\.yeudusk\\.com\\)+/g, '').replace(/\\(|\\)/g, '');"
      }
    }
  },
  {
    "id": "131a1082-15a3-4435-b68c-bce5dba12e53",
    "enabled": true,
    "name": "🍅大灰狼融合4.7.4(完全版)",
    "url": "大灰狼融合4.0",
    "group": "大灰狼聚合",
    "comment": "更新日志请点击登录，更新书源中查看\n\n兼容正式版阅读app",
    "exploreUrl": "<js>\nfunction setArgument(key, value) {\n    var open_argument = source.getVariable();\n    open_argument = getArguments(open_argument, '') || {};\n    open_argument[key] = value;\n    var result = JSON.stringify(open_argument);\n    source.setVariable(result);\n    return result;\n}\n\nfunction getFanqieCookie() {\n    try {\n        return String(cookie.getCookie('fanqienovel.com') || java.getCookie('fanqienovel.com') || '');\n    } catch (e) {\n        return '';\n    }\n}\n\nfunction getSessionId(cookieString) {\n    const match = cookieString.match(/sessionid=([^;]+)/);\n    return match ? match[1] : null;\n}\n\nvar open_argument = source.getVariable();\nvar base_url = getArguments(open_argument, 'server') || '';\nvar ms = getArguments(open_argument, 'tone_id') || '';\nvar source_type = getArguments(open_argument, 'source_type') || '男频';\nvar tab = getArguments(open_argument, 'media') || '小说';\nvar sources = getArguments(open_argument, 'source') || '番茄';\n\n\nvar sdtoken;\ntry {\n    var loginInfoMap = source.getLoginInfoMap ? source.getLoginInfoMap() : {};\n    sdtoken = String(loginInfoMap['手动填写番茄token(可不填)'] || '');\n} catch (e) {\n    sdtoken = '';\n}\n\nvar rawCookie = getFanqieCookie() || sdtoken;\nvar match = rawCookie.match(/sessionid=[^;]+/);\nvar fqcookie = match ? match[0] : '';\nvar fqssionid = '';\nif (!fqcookie) {\n    java.toast('您还未登陆番茄账号，无法同步数据哦！');\n} else {\n    fqssionid = getSessionId(fqcookie)\n}\nvar fqsjurl = base_url + \"/bookshelf?page={{page}}&ssionid=\" + fqssionid;\n\nvar groupDatas = [];\nvar infoData = [];\n\nfunction deviceType() {\n    try {\n        return !!java.androidId();\n    } catch (e) {\n        return false;\n    }\n}\n\nvar hasValidCookie = fqcookie.length > 0;\n\nif (hasValidCookie) {\n    function groupQuery() {\n        try {\n            var url = base_url + \"/group_name?ssionid=\" + fqssionid;\n            var res = java.ajax(url);\n            var response = JSON.parse(res);\n\n            if (!(response && response.data)) {}\n\n            response.data.forEach(function(group) {\n                var keys = Object.keys(group);\n                if (keys.length > 0) {\n                    var key = keys[0];\n                    var value = group[key];\n                    if (value && value.length) {\n                        var option = {\n                            \"method\": \"POST\",\n                            \"body\": {\n                                \"book_ids\": value,\n                                \"page\": \"{{page}}\"\n                            }\n                        };\n                        groupDatas.push({\n                            title: key,\n                            url: base_url + \"/bookshelf,\" + JSON.stringify(option),\n                            style: {\n                                layout_flexGrow: 1,\n                                layout_flexBasisPercent: 0.45\n                            }\n                        });\n                    }\n                }\n            });\n\n            if (groupDatas.length % 2 !== 0) {\n                groupDatas.push({\n                    title: \"--\",\n                    url: \"\",\n                    style: {\n                        layout_flexGrow: 1,\n                        layout_flexBasisPercent: 0.45\n                    }\n                });\n            }\n        } catch (e) {\n            java.longToast(\"分组获取失败: \" + e.message);\n        }\n    }\n\n    try {\n        java.longToast(\"正在加载分组数据...\");\n        var userUrl = base_url + \"/fquser?ssionid=\" + fqssionid;\n        var userRes = java.ajax(userUrl);\n        var userData = JSON.parse(userRes);\n\n        var userName = (userData && userData.data && userData.data.name) ? userData.data.name : '未知用户';\n        infoData = [{\n            title: userName + \"个人中心\",\n            url: fqsjurl,\n            style: {\n                layout_flexGrow: 1,\n                layout_flexBasisPercent: 1\n            }\n        }];\n\n        groupQuery();\n    } catch (e) {\n        java.longToast(\"操作失败: \" + e.message);\n    }\n}\n\nvar style_list = [];\ntry {\n    var durl = `${base_url}/discovestyle?source=${sources}&source_type=${source_type}&tab=${tab}`;\n    var res = java.ajax(durl);\n    var result = JSON.parse(res);\n    style_list = result.data || [];\n    if (result.msg) {\n        java.toast(result.msg);\n    }\n} catch (e) {\n    java.toast(\"发现样式获取失败\");\n}\n\nvar finalData = infoData.concat(groupDatas, style_list);\nJSON.stringify(finalData);\n</js>",
    "loginUrl": "// 当前书源版本号，切勿修改，否则影响更新的识别\nconst localVersion = '4.7.04';\n\n\nfunction login() {\n    let zdyserver;\n    try {\n        zdyserver = String(source.getLoginInfoMap()['自定义服务器(可不填)']);\n        if (zdyserver.includes('http')) {\n            setArgument('server', zdyserver);\n            java.toast(`\\n\\n当前服务器为自定义服务器\\n${zdyserver}\\n\\n切换服务器请先清空服务器地址中的数据`);\n        } \n            } catch (error) {\n    }\n    let zdytone_id;\n    try {\n        zdytone_id = String(source.getLoginInfoMap()['听书Ai音色填写后点击右上角✔']);\n        if (zdytone_id) {\n            setArgument('tone_id', zdytone_id);\n        } else {\n            setArgument('tone_id', '默认音色');\n        }\n    } catch (error) {\n    }\n    let sq_user_id;\n    try {\n        sq_user_id = String(source.getLoginInfoMap()['书旗id(可不填)']);\n        if (sq_user_id) {\n            setArgument('sq_user_id', sq_user_id);\n        } else {\n            setArgument('sq_user_id', '0');\n        }\n    } catch (error) {\n    }\n}\n\nfunction qtsj() {\n\tjava.startBrowserAwait(getArgument('server') + '/online_bookshelf','大灰狼书架');\n\t}\n\n// 填写密钥\nfunction loginqt() {\n        java.startBrowserAwait(getArgument('server') + '/login', '登录大灰狼小说书源');\n    }\n\n//登录番茄\nfunction fq_login() {\n       try {\n       \t java.startBrowserAwait(\"https://fanqienovel.com/\", \"登录\")\n    } catch (e) {\n        java.toast(e)\n    }\n    try {\n        cookie.removeCookie(\"snssdk.com\")\n    } catch (e) {\n    }\n    var cookies = cookie.getCookie(\"fanqienovel.com\")\n    if (!cookies || cookies == \"\") {\n        java.toast(\"登录失败！\")\n        return false\n    }\n    java.toast(\"登录成功！\")\n    return true\n}\n\n//退出登录\nfunction logout() {\n    cookie.removeCookie(\"fanqienovel.com\");\n    cookie.removeCookie(\"snssdk.com\");\n    \n    const servers = host\n    for (let server of servers) {\n    cookie.removeCookie(server);\n    }\n    java.toast(\"退出登录成功\");\n}\n\n//获取参数\nfunction getArgument(key) {\n    let open_argument = source.getVariable();\n    open_argument = getArguments(open_argument, '');\n    return open_argument[key];\n}\n\n//设置参数\nfunction setArgument(key, value) {\n    let open_argument = source.getVariable();\n    open_argument = getArguments(open_argument, '');\n    open_argument[key] = value;\n    open_argument = JSON.stringify(open_argument);\n    source.setVariable(open_argument);\n    return open_argument;\n}\n\n//设置男女频\nfunction set_source_type(source_type) {\n\t  setArgument(\"source_type\", source_type);\n\t  java.toast(\"\\n发现页已设置为:\"+source_type);\n\t}\n\t\n//首页\nfunction api() { java.startBrowserAwait('http://fb.langge.cf', \"首页\");\n}\n\n//打赏\nfunction vip() {\n    java.startBrowserAwait(getArgument('server') + '/coffee', \"喝咖啡\");\n}\n\n//获取密钥\nfunction hqmy() {\n    java.startBrowserAwait(getArgument('server') + '/key', \"获取密钥\");\n}\n\nvar server = getArgument('server');\n\n//设置搜索媒体\nfunction set_media(media) {\n    const mediaConfig = {\n        '喜马拉雅': ['听书'],\n        '番茄': '*',\n        '福利小说':['小说'],\n        '如漫画':['漫画'],\n        '包子漫画':['漫画'],\n        '九妖漫画':['漫画'],\n        '绅士漫画':['漫画'],\n        '福利漫画':['漫画'],\n        '海洋听书':['听书'],\n        '酷狗听书':['听书'],        \n        '七猫': ['小说', '听书'],\n        '河马': ['短剧'],\n        '歪瑞古德': ['漫画'],\n        '毒舌影视':['短剧'],\n        '全部': '*', // 允许所有模式\n        '默认': ['小说']\n    };\n    \n    const source = getArgument('source');\n    const allowedModes = mediaConfig[source] || mediaConfig['默认'];\n    let targetMedia = mediaConfig['默认'][0]; \n    let isAllowed = false;\n    \n    if (allowedModes === '*' || allowedModes.includes(media)) {\n        targetMedia = media;\n        isAllowed = true;\n    } else if (Array.isArray(allowedModes)) {\n        targetMedia = allowedModes[0]; \n    }\n\n    const message = isAllowed \n        ? `\\n\\n已切换至：${targetMedia}\\n请重新搜索书籍！`\n        : `\\n\\n目前${source}：不支持【${media}】模式！\\n已自动切换至：${targetMedia}`;\n\n    setArgument('media', targetMedia);\n    java.toast(message);\n}\n\n//获取搜索媒体\nfunction get_media() {\n    let media = getArgument('media');\n    let source = getArgument('source');\n    if (media == '') {\n        media = '全部';\n    }\n    java.toast(`\\n\\n当前使用源：${source}-${media}`);\n\n}\n\n//获取服务器\nfunction get_server() {\n    var server = getArgument('server');\n    var tishi = '\\n\\n当前服务器：' + server\n    java.toast(tishi);\n    return server\n}\n\n\n//设置服务器\nfunction set_server() {\n    let zdyserver;\n    try {\n        zdyserver = String(source.getLoginInfoMap()['自定义服务器(可不填)']);\n        if (zdyserver.includes('http')) {\n            setArgument('server', zdyserver);\n            java.toast(`\\n\\n当前服务器为自定义服务器\\n${zdyserver}\\n\\n切换服务器请先清空服务器地址中的数据`);\n        } else {\n            zdyserver = '';\n        }\n    } catch (error) {\n        zdyserver = '';\n    }\n    if (!zdyserver) {\n        const servers = host\n        const currentServer = getArgument('server') || '';\n        const currentIndex = servers.indexOf(currentServer);\n\n        const nextIndex = currentIndex >= 0 ? (currentIndex + 1) % servers.length : 0;\n        const nextServer = servers[nextIndex];\n\n        setArgument('server', nextServer);\n        java.toast(`\\n\\n当前服务器${nextIndex+1}:${nextServer}\\n\\n注意：切换服务器后需要在详情页刷新目录才能生效`);\n    }\n}\n\n//获取音色\nvar tone_id = getArgument('tone_id');\n\nfunction get_tone_id(arg) {\n    var datadist = {\n        \"0\": \"默认音色\",\n        \"-1\": \"阅读模式\",\n        \"-2\": \"漫画模式\",\n        \"51\": \"多人发音\",\n        \"1\": \"甜美少女\",\n        \"2\": \"清亮青叔\",\n        \"5\": \"开朗青年\",\n        \"6\": \"温柔淑女\",\n        \"4\": \"成熟大叔\",\n        \"74\": \"大叔升级\",\n        \"30\": \"优雅御姐\"\n    };\n    var tone_id = datadist[arg] || arg;\n    var tishi = '\\n\\n当前音色：' + tone_id;\n    java.toast(tishi);\n}\n\n//设置音色\nfunction set_tone_id(mode, name) {\n    let zdytone_id;\n    try {\n        zdytone_id = String(source.getLoginInfoMap()['其他音色填写后点击右上角✔']);\n        if (zdytone_id) {\n            setArgument('tone_id', zdytone_id);\n            java.toast(`\\n\\n当前音色为自定义音色\\n${zdytone_id}\\n\\n切换音色请先清空音色输入框中的数据`);\n        } else {\n            zdytone_id = '';\n        }\n    } catch (error) {\n        zdytone_id = '';\n    }\n    if (!zdytone_id) {\n        let toast = \"\\n\\n已切换至：\" + name + '\\n\\n切换后需要刷新详情页';\n        setArgument('tone_id', mode);\n        java.toast(toast);\n    }\n}\n\n//设置来源\nfunction set_source(source) {\n\t          setArgument('source', source);\n\t          set_media('小说');\n            java.toast(`\\n\\n当前来源已切换为:\\n${source}\\n\\n切换后请重新搜索`);\n       }\n\n\n// 番茄段评\nfunction paracomment(a) {\n    let status = cache.get(a);\n    if (status == \"on\") {\n        cache.put(a, \"off\");\n        java.toast(\"\\n段评已关闭\");\n    } else {\n        cache.put(a, \"on\");\n        java.longToast(\"段评已开启\\n\\n长按刷新段后面的图片即可\\n\\n如果图片不显示，刷新无反应\\n请更新测试版阅读app\");\n    }\n}// 书源更新\nfunction renderVersionPage() {\n\tlet yd = '';\n  let html = `\n<!DOCTYPE html>\n<html lang=\"zh-CN\">\n<head>\n  <meta charset=\"UTF-8\" />\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\" />\n  <title>书源更新</title>\n  <style>\n    body {\n      margin: 0;\n      padding: 1em;\n      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;\n      background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      min-height: 100vh;\n      color: #333;\n    }\n\n    .container {\n      width: 100%;\n      max-width: 480px;\n      background: rgba(255, 255, 255, 0.85);\n      backdrop-filter: blur(10px);\n      border-radius: 16px;\n      padding: 1em;\n      box-shadow: 0 8px 30px rgba(0, 0, 0, 0.1);\n      animation: fadeIn 0.5s ease-in-out;\n      display: none; \n          }\n\n    @keyframes fadeIn {\n      from { opacity: 0; transform: translateY(10px); }\n      to { opacity: 1; transform: translateY(0); }\n    }\n\n    h1 {\n      text-align: center;\n      font-size: 1.6em;\n      margin-bottom: 1em;\n      color: #333;\n    }\n\n    .version-info, .status {\n      text-align: center;\n      margin-bottom: 1em;\n      font-weight: 500;\n    }\n\n    .status {\n      color: #d63384;\n      font-size: 0.9em;\n    }\n\n    .button-group {\n      display: flex;\n      flex-direction: column;\n      gap: 0.75em;\n      margin-bottom: 1.5em;\n    }\n\n    .button {\n      display: block;\n      width: 90%;\n      padding: 0.85em;\n      text-align: center;\n      font-size: 1em;\n      border: none;\n      border-radius: 8px;\n      text-decoration: none;\n      background: linear-gradient(135deg, #42e695 0%, #3bb2b8 100%);\n      color: white;\n      font-weight: bold;\n      transition: all 0.25s ease;\n      box-shadow: 0 4px 14px rgba(0, 0, 0, 0.15);\n    }\n\n    .button:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);\n    }\n\n    .logs {\n      background: #ffffffcc;\n      padding: 1em;\n      border-radius: 8px;\n      border: 1px solid #ddd;\n      box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);\n    }\n\n    .logs h2 {\n      font-size: 1.2em;\n      margin-bottom: 0.8em;\n      border-bottom: 1px solid #ccc;\n      padding-bottom: 0.3em;\n      color: #222;\n    }\n\n    .log-item {\n      margin-bottom: 0.7em;\n      line-height: 1.5;\n    }\n\n    .log-item-date {\n      font-weight: bold;\n      color: #3b3b3b;\n    }\n\n    .log-item-content {\n      margin-left: 1em;\n      color: #555;\n    }\n\n    .loading {\n      text-align: center;\n      font-size: 1.1em;\n      color: #555;\n      animation: pulse 1.2s infinite;\n    }\n\n    @keyframes pulse {\n      0% { opacity: 1; }\n      50% { opacity: 0.5; }\n      100% { opacity: 1; }\n    }\n    .ad-banner {\n            background: linear-gradient(135deg, #ff9a9e 0%, #fad0c4 100%);\n            color: white;\n            padding: 10px 15px;\n            text-align: center;\n            margin-bottom: 20px;\n            cursor: pointer;\n            border-radius: 8px;\n            border: 1px solid #ddd;\n            box-shadow: inset 0 1px 3px rgba(0,0,0,0.05);\n           }\n\n        .ad-banner:hover {\n            transform: translateY(-2px);\n            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);\n        }\n\n        .ad-banner span {\n            font-weight: 500;\n            font-size: 16px;\n        }\n  </style>\n</head>\n<body>\n  <div id=\"loading\" class=\"loading\">🔍 正在拼命检查中，请稍候～ 📡</div>\n\n  <div class=\"container\" id=\"container\">\n    <h1>📚 书源版本检查</h1>\n    <div class=\"ad-banner\" onclick=\"window.location.href='https://api.qingtian618.com/phonecardad'\">\n        <span>📱 手机卡充值优惠活动，点击查看详情 →</span>\n    </div>\n    <div class=\"version-info\" id=\"versionInfo\">加载中...</div>\n    <div class=\"status\" id=\"statusText\"></div>\n\n    <div class=\"button-group\" id=\"buttonGroup\" style=\"display: none;\">\n          </div>\n\n    <div class=\"logs\" id=\"logs\" style=\"display: none;\">\n      <h2>📝 更新日志</h2>\n      <div id=\"logList\"></div>\n    </div>\n  </div>\n\n <script>\n(async function() {\n  const loading = document.getElementById('loading');\n  const container = document.getElementById('container');\n  const versionInfo = document.getElementById('versionInfo');\n  const statusText = document.getElementById('statusText');\n  const updateButton = document.getElementById('updateButton');\n  const buttonGroup = document.getElementById('buttonGroup');\n  const logsContainer = document.getElementById('logs');\n  const logList = document.getElementById('logList');\n\nconst localVer = '${String(localVersion)}';\n// 版本判断逻辑\nfunction compareVersions(vs) {\n  const parts1 = localVer.split('.').map(Number);\n  const parts2 = vs.split('.').map(Number);\n  const maxLength = Math.max(parts1.length, parts2.length);\n  for (let i = 0; i < maxLength; i++) {\n    const num1 = parts1[i] || 0;\n    const num2 = parts2[i] || 0;\n    if (num1 > num2) return 1;\n    if (num1 < num2) return -1;\n  }\n  return 0;\n}\n\nconst encodedEndpoints = [\n\n 'aHR0cHM6Ly9hcGkubGFuZ2dlLmNm',   \r\n    \r\n'aHR0cHM6Ly8yMC5sYW5nZ2UudGs=',  \r\n      \r\n'aHR0cHM6Ly9hcGkuZG91YmkudGs=',\r\n       \r\n'aHR0cHM6Ly92OS5jenlsLmNm',\r\n      \r\n'aHR0cHM6Ly92OC5jenlsLmNm',  \r\n      \r\n'aHR0cDovL3YyLmRhaHVpbGFuZy5jZg==', \r\n      \r\n'aHR0cDovLzExMC40MC4zOC40OjUwMDY=',\r\n\r\n'aHR0cDovL3ZpcC5sYW5nZ2UuY2Y6NDU4MDA='        \n];\n\nfunction decodeEndpoint(str) {\n  return atob(str);\n}\n\nasync function fetchVersionData() {\n  for (const b64 of encodedEndpoints) {\n    const url = decodeEndpoint(b64);\n    try {\n      const response = await fetch(url + '/version', { timeout: 2000 }); \n      if (response.ok) {\n        return await response.json();\n      }\n    } catch (e) {\n      console.warn(\\`接口失败：\\${url}\\`, e);\n    }\n  }\n  throw new Error('所有更新接口都请求失败');\n}\n  try {\n    loading.style.display = 'block';\n\n    const data = await fetchVersionData();\n    const cloudVersion = String(data.version3);\n    const updateLog = data.update_log || {};\n\n    versionInfo.innerHTML = \\`📌 当前版本：v\\${localVer} ｜ 云端版本：v\\${cloudVersion}\\`;\n\n    logList.innerHTML = Object.entries(updateLog).map(([date, content]) => \\`\n      <div class=\"log-item\">\n        <div class=\"log-item-date\">\\${date}</div>\n        <div class=\"log-item-content\">\\${content}</div>\n      </div>\n    \\`).join('');\n    logsContainer.style.display = 'block';\n\n    if (compareVersions(cloudVersion) === -1) {\n      statusText.innerHTML = '<span>✨ 有新版本可用，建议立即更新！<br>${yd}</span>';\nconst domainMap = {\n main: 'aHR0cHM6Ly9zeS5kYXNoYWJpLnRr', \r\n  d1: \r\n'aHR0cHM6Ly9hcGkubGFuZ2dlLmNm', \r\n  d2:   \r\n'aHR0cHM6Ly8yMC5sYW5nZ2UudGs=',\r\n  d3:   \r\n'aHR0cHM6Ly9hcGkuZG91YmkudGs=',\r\n  d4:   \r\n'aHR0cHM6Ly92OC5jenlsLmNm',\r\n  d5:   \r\n'aHR0cHM6Ly92OS5jenlsLmNm',\r\n  d6:   \r\n'aHR0cDovLzExMC40MC4zOC40OjUwMDY=',\r\n  d7:   \r\n'aHR0cDovL3ZpcC5sYW5nZ2UuY2Y6NDU4MDA=',\r\n  d8:   \r\n'aHR0cDovL3YyLmRhaHVpbGFuZy5jZg=='\n};\n\nfunction decode(b64) {\n  return atob(b64);\n}\n\nconst path = '/sy/download/%e5%ae%89%e5%8d%93%e9%98%85%e8%af%bbapp-%e5%a4%a7%e7%81%b0%e7%8b%bc%e8%9e%8d%e5%90%884.0(%e5%ae%8c%e5%85%a8%e7%89%88).json';\nconst mainPath = '/download/%e5%ae%89%e5%8d%93%e9%98%85%e8%af%bbapp-%e5%a4%a7%e7%81%b0%e7%8b%bc%e8%9e%8d%e5%90%884.0(%e5%ae%8c%e5%85%a8%e7%89%88).json';\n\nconst routes = [\n  { name: '🚀 主线路', domain: 'main', suffix: mainPath },\n  { name: '📦 备用线路1', domain: 'd1', suffix: path },\n  { name: '🛰️ 备用线路2', domain: 'd2', suffix: path },\n  { name: '🛰️ 备用线路3', domain: 'd3', suffix: path },\n  { name: '🛰️ 备用线路4', domain: 'd4', suffix: path },\n  { name: '🛰️ 备用线路5', domain: 'd5', suffix: path },\n  { name: '🛰️ 备用线路6', domain: 'd6', suffix: \npath },\n  { name: '🛰️ 备用线路7', domain: 'd7', suffix: path },\n  { name: '🛰️ 备用线路8', domain: 'd8', suffix: path }  \n];\n\nbuttonGroup.innerHTML = routes.map(r => {\n  const fullUrl = decode(domainMap[r.domain]) + r.suffix;\n  return \\`<a href=\"yuedu://booksource/importonline?src=\\${encodeURIComponent(fullUrl)}\" class=\"button\">\\${r.name}</a>\\`;\n}).join('');\n      buttonGroup.style.display = 'flex';\n      } else {\n      statusText.textContent = '✅ 已是最新书源咯～';\n    }\n\n    loading.style.display = 'none';\n    container.style.display = 'block';\n\n  } catch (err) {\n    loading.textContent = '😢 检查失败啦～ 请稍后再试==>'+err;\n    console.error('版本检查失败：', err);\n  }\n})();\n</script>\n</body>\n</html>\n`;\n  java.startBrowser(`data:text/html;base64,${java.base64Encode(html)}`, '大灰狼书源更新');\n}\n\n\n\n",
    "loginUi": "\n[{\n    \"name\": \"♥登录书源\",\n    \"type\": \"button\",\n    \"action\": \"loginqt()\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 0.4\n  }\n}, {\n    \"name\": \"♻️ 更新书源\",\n    \"type\": \"button\",\n    \"action\": \"renderVersionPage()\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 0.4\n  }\n\n}, {\n    \"name\": \"🍅番茄登录\",\n    \"type\": \"button\",\n    \"action\": \"fq_login()\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 0.4\n  }\n}, {\n    \"name\": \"📝段评开关\",\n    \"type\": \"button\",\n    \"action\": \"paracomment('fqpara')\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 0.4\n  }\n}, {\n    \"name\": \"👨‍🦱男频发现\",\n    \"type\": \"button\",\n    \"action\": \"set_source_type('男频')\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 0.4\n  }\n}, {\n    \"name\": \"👩‍🦰女频发现\",\n    \"type\": \"button\",\n    \"action\": \"set_source_type('女频')\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 0.4\n  }\n}, {\n    \"name\": \"☕打赏享福利\",\n    \"type\": \"button\",\n    \"action\": \"vip()\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 0.4\n  }\n}, {\n    \"name\": \"♻️检测服务器\",\n    \"type\": \"button\",\n    \"action\": \"api()\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 0.4\n  }\n}, {\n    \"name\": \"🎚切换服务器\",\n    \"type\": \"button\",\n    \"action\": \"set_server(server)\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 0.4\n  }\n}, {\n    \"name\": \"🖱当前服务器 \",\n    \"type\": \"button\",\n    \"action\": \"get_server()\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 0.4\n  }\n}, {\n    \"name\": \"🗂当前模式\",\n    \"type\": \"button\",\n    \"action\": \"get_media()\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 1\n  }\n}, {\n    \"name\": \"📖小说模式\",\n    \"type\": \"button\",\n    \"action\": \"set_media('小说')\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 0.4\n  }\n}, {\n    \"name\": \"🔊听书模式\",\n    \"type\": \"button\",\n    \"action\": \"set_media('听书')\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 0.4\n  }\n}, {\n    \"name\": \"🏞漫画模式\",\n    \"type\": \"button\",\n    \"action\": \"set_media('漫画')\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 0.4\n  }\n}, {\n    \"name\": \"🖲短剧模式\",\n    \"type\": \"button\",\n    \"action\": \"set_media('短剧')\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 0.4\n  }\n}, {\n    \"name\": \"听书Ai音色填写后点击右上角✔\",\n    \"type\": \"text\"\n}, {\n    \"name\": \"自定义服务器(可不填)\",\n    \"type\": \"text\"\n}, {\n    \"name\": \"手动填写番茄token(可不填)\",\n    \"type\": \"text\"\n}, {\n    \"name\": \"↓↓下方可切换来源用于搜索/发现页↓↓\",\n    \"type\": \"button\",\n    \"action\": \"get_media()\",\n    \"style\": {\n    \"layout_flexGrow\": 1,\n    \"layout_flexBasisPercent\": 1\n  }\n}, {\n    \"name\": \"全部\",\r\n    \"type\": \"button\",\r\n    \"action\": \"set_source('全部')\",\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('番茄')\",\r\n    'name': '番茄',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('七猫')\",\r\n    'name': '七猫',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('得间')\",\r\n    'name': '得间',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('塔读')\",\r\n    'name': '塔读',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\n}, {\r\n    'action': \"set_source('书旗')\",\r\n    'name': '书旗',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('QQ')\",\r\n    'name': 'QQ',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('搜书神器')\",\r\n    'name': '搜书神器',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('69书吧')\",\r\n    'name': '69书吧',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\n  }, {\r\n    'action': \"set_source('得奇')\",\r\n    'name': '得奇',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('伪69')\",\r\n    'name': '伪69',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('爱下电子书')\",\r\n    'name': '爱下电子书',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('小米')\",\r\n    'name': '小米',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('星星小说')\",\r\n    'name': '星星小说',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\n}, {\r\n    'action': \"set_source('纵横中文网')\",\r\n    'name': '纵横中文网',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('万相书城')\",\r\n    'name': '万相书城',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('365小说')\",\r\n    'name': '365小说',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('八一中文网')\",\r\n    'name': '八一中文网',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\n}, {\r\n    'action': \"set_source('全本小说')\",\r\n    'name': '全本小说',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('星空小说')\",\r\n    'name': '星空小说',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('轻菠萝包')\",\r\n    'name': '轻菠萝包',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('无忧小说网')\",\r\n    'name': '无忧小说网',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('速读谷')\",\r\n    'name': '速读谷',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\n}, {\r\n    'action': \"set_source('梧桐中文')\",\r\n    'name': '梧桐中文',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('骑士小说')\",\r\n    'name': '骑士小说',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('沧元图')\",\r\n    'name': '沧元图',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('全本同人')\",\r\n    'name': '全本同人',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n  }, {\r\n    'action': \"set_source('刺猬猫')\",\r\n    'name': '刺猬猫',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\n  }, {\r\n    'action': \"set_source('轻之文库')\",\r\n    'name': '轻之文库',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('铅笔轻小说')\",\r\n    'name': '铅笔轻小说',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('轻小说文库')\",\r\n    'name': '轻小说文库',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('潇湘书院')\",\r\n    'name': '潇湘书院',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('福利小说')\",\r\n    'name': '福利小说',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n }\n, {\r\n    'action': \"set_source('侠客中文网')\",\r\n    'name': '侠客中文网',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('晋江文学')\",\r\n    'name': '晋江文学',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n},  {\r\n    'action': \"set_source('天天看书')\",\r\n    'name': '天天看书',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('顶点')\",\r\n    'name': '顶点',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('猫眼')\",\r\n    'name': '猫眼',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('小说三千')\",\r\n    'name': '小说三千',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\n}, {\r\n    'action': \"set_source('知乎')\",\r\n    'name': '知乎',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('酷我听书')\",\r\n    'name': '酷我听书',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('海洋听书')\",\r\n    'name': '海洋听书',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('喜马拉雅')\",\r\n    'name': '喜马拉雅',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('福利漫画')\",\r\n    'name': '福利漫画',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('九妖漫画')\",\r\n    'name': '九妖漫画',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n  }, {\r\n    'action': \"set_source('包子漫画')\",\r\n    'name': '包子漫画',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\n}, {\r\n    'action': \"set_source('漫画网')\",\r\n    'name': '漫画网',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\r\n    'action': \"set_source('风车漫画')\",\r\n    'name': '风车漫画',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n}, {\t\t\t\r\n    'action': \"set_source('歪瑞古德')\",\r\n    'name': '歪瑞古德漫画',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n  },{\r\n    'action': \"set_source('毒舌影视')\",\r\n    'name': '毒舌影视',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }\r\n  }, {\r\n    'action': \"set_source('河马')\",\r\n    'name': '河马短剧',\r\n    'type': 'button',\r\n    \"style\": {\r\n    \"layout_flexGrow\": 1,\r\n    \"layout_flexBasisPercent\": 0.4\r\n  }}]                 \n    ",
    "loginCheckJs": "",
    "coverDecodeJs": "",
    "bookUrlPattern": "",
    "header": "",
    "searchUrl": "<js>\nlet base_url = getArguments(source.getVariable(),'server');\nlet media;\nlet sources = getArguments(source.getVariable(),'source');\nif (String(key).startsWith(\"m:\")||String(key).startsWith(\"m：\")) {\n  media = \"漫画\"\n  key = key.slice(2)\n  }else if (String(key).startsWith(\"t:\")||String(key).startsWith(\"t：\")) {\n  media = \"听书\"\n  key = key.slice(2)\n} else if (String(key).startsWith(\"d:\")||String(key).startsWith(\"d：\")) {\n  media = \"短剧\"\n  key = key.slice(2)\n} else if (String(key).startsWith(\"x:\")||String(key).startsWith(\"x：\"))  {\n\tmedia = \"小说\"\n  key = key.slice(2)\n\t} else {\n\tmedia = getArguments(source.getVariable(),'media');\n\t}\nif (key.includes('@')) {\n  const parts = key.split('@');\n  key = parts[0];\n  sources = parts[1] || sources;\n}\n\t`${base_url}/search?title=${key}&tab=${media}&source=${sources}&page={{page}}`\n</js>",
    "rules": {
      "search": {
        "author": "$.author",
        "bookList": "$.data",
        "bookUrl": "<js>\nlet book_id = result.book_id;\nlet sources = result.source;\nlet tab = result.tab || '小说';\nlet base_url = getArguments(source.getVariable(),'server');\nlet sq_user_id = getArguments(source.getVariable(),'sq_user_id') || '0';\nlet op = {\"method\":\"POST\",\"body\":`book_id=${book_id}&source=${sources}&tab=${tab}`};\nop = JSON.stringify(op);\n`${base_url}/detail,${op}`\n</js>",
        "checkKeyWord": "我的26岁女房客@番茄",
        "coverUrl": "$.thumb_url",
        "intro": "$.abstract",
        "kind": "{{$.status}},{{$.score}},{{$.tags}},{{$.last_chapter_update_time}}",
        "lastChapter": "{{$.source}} {{$.last_chapter_title}}",
        "name": "$.book_name##（别名：.*?）",
        "wordCount": "$.word_number"
      },
      "find": {
        "author": "$.author",
        "bookList": "$.data",
        "bookUrl": "<js>\nlet book_id = result.book_id;\nlet sources = result.source;\nlet tab = result.tab || '小说';\nlet base_url = getArguments(source.getVariable(),'server');\nlet op = {\"method\":\"POST\",\"body\":`book_id=${book_id}&source=${sources}&tab=${tab}`};\nop = JSON.stringify(op);\n`${base_url}/detail,${op}`\n</js>",
        "coverUrl": "$.thumb_url",
        "intro": "{{$.source}}\n{{$.abstract}}",
        "kind": "{{$.category}}\n{{$.score}}\n{{$.status}}\n{{$.source}}\n{{$.tags}}",
        "lastChapter": "{{$.last_chapter_title}} • {{$.last_update_time}}",
        "name": "$.book_name",
        "wordCount": "$.word_number"
      },
      "bookInfo": {
        "author": "$.author",
        "coverUrl": "$.thumb_url",
        "init": "$.data",
        "intro": "<js>\nconst {\n    book_id,\n    source: sources,\n    tab,\n    book_tts,\n    tags,\n    role,\n    last_chapter_title,\n    last_chapter_update_time,\n    word_number,\n    status,\n    score,\n    abstract,\n    copyright_info\n} = result;\n\njava.put('book_detail', JSON.stringify(result));\nfunction getKey(key) {\n    const parts = key.split(\";\");\n    for (let part of parts) {\n        if (part.includes(\"qttoken\")) {\n            return part.split(\"=\")[1];\n        }\n    }\n    return \"\";\n}\nlet base_url = getArguments(source.getVariable(), 'server');\nlet key = '';\ntry {\n    const cookieValue = String(cookie.getCookie(base_url)) || String(java.getCookie(base_url));\n    key = getKey(cookieValue);\n    } catch (e) {\n    key = '';\n}\n\nconst loginStatus = key ? '✅ 已登录' : '⚠️ 未登录 | 点击右上角 🔖 登录';\n\nconst lightDivider = '❇️───────❇️───────❇️';\nconst heavyDivider = '&lrm;\\n&lrm;';\n\nconst isValid = (value) => String(value).length > 1;\n\nlet info = `\n    📡 当前服务：${base_url}\n    🔑 账号状态：${loginStatus}\n    🏷 数据来源：${sources}\n    🔄 当前模式：${tab}\n`;\n\nif (tab == '听书') {\n    const toneId = getArguments(source.getVariable(), 'tone_id');\n    if (isValid(book_tts)) {\n        info += `${lightDivider}\n    🎵 音色配置：${toneId}\n    ${book_tts}\n`;\n}}\n\nlet basicInfo = '';\nconst addBasicInfo = (value, prefix, icon) => {\n    if (isValid(value)) basicInfo += `    ${icon} ${prefix} ${value}\\n`;\n};\n\naddBasicInfo(tags, '书籍分类：', '🌈');\naddBasicInfo(role, '书籍主角：', '👑');\naddBasicInfo(last_chapter_title, '最新章节：', '📚');\naddBasicInfo(last_chapter_update_time, '更新时间：', '⏳');\naddBasicInfo(word_number, '书籍字数：', '📊');\naddBasicInfo(status, '书籍状态：', '🚩');\naddBasicInfo(score, '书籍评分：', '⭐');\n\nif (basicInfo) info += `${lightDivider}\\n${basicInfo}`;\n\nif (isValid(abstract)) {\n    const indentedAbstract = abstract.split('\\n').map(line => `    ${line}`).join('\\n');\n    info += `${heavyDivider}\n    📖 书籍简介：\n${indentedAbstract}\n`;\n} else {\n    info += `${heavyDivider}`;\n}\n\nif (isValid(copyright_info)) {\n    info += `${lightDivider}\n    © ${copyright_info}\n`;\n} else {\n    info += `${lightDivider}`;\n}\n\ninfo += `\n${heavyDivider}\n    💠💠💠 数据更新于 ${new Date().toLocaleString()} 💠💠💠\n`;\n\ninfo = info.split('\\n').map(line => line.replace(/^ {4}/, '')).join('\\n');\n</js>",
        "lastChapter": "{{$.source}} {{$.last_chapter_title}} {{$.last_chapter_update_time}}",
        "name": "$.book_name",
        "tocUrl": "<js>\nlet book_id = result.book_id;\nlet sources = result.source;\nlet tab = result.tab || '小说';\nlet base_url = getArguments(source.getVariable(),'server');\nlet sq_user_id = getArguments(source.getVariable(),'sq_user_id') || '0';\njava.put('tab',tab);\njava.put('book_id',book_id);\nlet op = {\"method\":\"POST\",\"body\":`book_id=${book_id}&source=${sources}&tab=${tab}`};\nop = JSON.stringify(op);\n`${base_url}/catalog,${op}`\n</js>",
        "wordCount": "$.word_number"
      },
      "toc": {
        "chapterList": "$.data\n<js>\nlet tab = java.get('tab');\nlet device;\nlet device_type;\ntry {\n device = java.androidId();\n device_type='安卓';\n} catch (e) {\n device_type='苹果';\n};\n\nif (tab=='小说') {\n\tif (device_type == '安卓') {\n    book.type = 8;} else {\n    \tbook.type = 0;\n    \t}\n } \n else if (tab=='听书') {\n \tif (device_type == '安卓') {\n    book.type = 32;} else {\n    \tbook.type = 1;\n    \t}\n \t} else if (tab=='漫画') {\n \t\tif (device_type == '安卓') {\n    book.type = 64;} else {\n    \tbook.type = 2;\n    \t}\n \t } else if (tab=='短剧') {\n \t\t\tif (device_type == '安卓') {\n    book.type = 8;} else {\n    \tbook.type = 3;\n    \t}\n \t\t \t\t\t} else {\n \t\t \t\t\t\tif (device_type == '安卓') {\n    book.type = 8;} else {\n    \tbook.type = 0;\n    \t}\t\t\n \t\t \t\t\t\t}\n \tresult;\n\t</js>",
        "chapterName": "$.title",
        "chapterUrl": "<js>\nlet tab = result.tab;\nlet sources = result.source;\nlet title = result.title;\nlet item_id = result.item_id;\nlet content_url = `${item_id}大灰狼融合4${tab}大灰狼融合4${title}大灰狼融合4${sources}`;\ncontent_url= java.base64Encode(content_url);\nif (sources == '番茄' && tab == '小说') {\n\tbook_id = java.get('book_id');\n\tjava.put('book_id',book_id);\n\tconst base_url = getArguments(source.getVariable(), 'server') || '';\n  content_url= `data:;base64,${content_url},{\"type\":\"qingtian\",\"js\":\"book ? result : '${base_url}/get_review?book_id=${book_id}&item_id=${item_id}'\"}`;\n\t} else {\n   content_url= `data:;base64,${content_url},{\"type\":\"qingtian\"}`;\n\t\t}\n</js>",
        "updateTime": "$.first_pass_time"
      },
      "content": {
        "content": "<js>\nlet res = java.hexDecodeToString(result).split('大灰狼融合4');\nlet book_id = java.get('book_id');\nlet item_id = res[0];\nlet tab = res[1];\nlet title = res[2];\nlet sources = res[3];\nlet content = '';\nlet data;\nlet tone_id = getArguments(source.getVariable(), 'tone_id');\nlet base_url = getArguments(source.getVariable(), 'server');\nlet device, device_type;\ntry {\n    device = java.androidId();\n    device_type = '安卓';\n} catch (e) {\n    try {\n        device = java.deviceID();\n        device_type = '苹果';\n    } catch (e) {\n        device = '';\n        device_type = '安卓';\n    }\n}\nif (sources == '番茄' && tab == '小说') {\n\ttry {\n\t\tlet op = {\"method\":\"POST\",\n\"body\":`item_id=${item_id}&source=${sources}&tab=${tab}&tone_id=${tone_id}&version=4.6.29&is_app=true`,\n\"headers\":{\"cookie\":cookie.getCookie(base_url)}\n};\nop = JSON.stringify(op);\nlet content_url = `/content,${op}`;\ndata = java.ajax(base_url + content_url);\ncontent = JSON.parse(data).content;\n//\tjava.log(content);\n    eval(content);\n   // java.log(content);\n    content = cleanHTML(content);\n    java.log('app');\n } catch (e) {\n \tcontent = '';\n    }\n\t\t} \n\tif (!content) {\nlet op = {\"method\":\"POST\",\n\"body\":`item_id=${item_id}&source=${sources}&tab=${tab}&tone_id=${tone_id}&version=4.6.29`,\n\"headers\":{\"cookie\":cookie.getCookie(base_url)}\n};\nop = JSON.stringify(op);\nlet content_url = `/content,${op}`;\n\nlet data = java.ajax(base_url + content_url);\ntry {\n    if (JSON.parse(data).msg) {\n        java.toast(JSON.parse(data).msg);\n    }\n} catch (e) {}\ndata = JSON.parse(data);\ncontent = data.content;\ncontent = decrypt(content);\n};\nif (sources == '番茄' && cache.get(\"fqpara\") == \"on\" && tab == \"小说\") {\n    content = getComments(content, book_id, item_id);\n}\ndata = JSON.stringify({\n    'content': content\n});\n//java.log(decrypt(data.content));\nif (device_type == '安卓' && (tab == '短剧' || tab == '视频')) {\n    data = {\n        'content': `【右上角刷新】开启播放(下一集请切换下一章刷新)\\n播放直链：\\n${content}`\n    }\n    data = JSON.stringify(data);\n    if (book.durChapterIndex === chapter.index) {\n    \t   let video_url = `${base_url}/online_video?book_id=${book_id}&source=${sources}&tab=${tab}`;\n        java.startBrowser(video_url, title);\n        java.toast('正在加载视频...');\n    }\n};\ndata;\n</js>\n$.content",
        "imageStyle": "TEXT"
      }
    }
  },
  {
    "id": "07076ddb-865a-4899-aa6c-03e739fc971f",
    "name": "18爱丽丝书屋",
    "url": "https://www.alicesw.com/",
    "enabled": true,
    "group": "🐣R18小说",
    "comment": "不能看完整就登录一下试试。\n备用https://alicesw.click/\n178\nasd123456\nhttps://www.alicesw.com/",
    "exploreUrl": "更新::https://www.alicesw.com/all/order/update_time+desc.html?page={{page}}\n人气::https://www.alicesw.com/all/order/hits+desc.html?page={{page}}\n字数::https://www.alicesw.com/all/order/word+desc.html?page={{page}}\n处女::https://www.alicesw.com/search/处女.html?page={{page}}\n乱更新::https://www.alicesw.com/all/id/65/order/update_time+desc.html?page={{page}}\n乱人气::https://www.alicesw.com/all/id/65/order/hits+desc.html?page={{page}}\n乱字数::https://www.alicesw.com/all/id/65/order/word+desc.html?page={{page}}",
    "loginUrl": "https://alicesw.tw/user/user/login.html",
    "coverDecodeJs": "",
    "header": "{\n\t\"User-Agent\":\"Mozilla/5.0 (Linux; Android 14; PJH110 Build/SP1A.210812.016) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.6533.103 Mobile Safari/537.36\",\"Referer\":\"{{baseUrl}}\"\n\t}",
    "searchUrl": "https://www.alicesw.com/search.html?keyword={{key}}&page={{page}}",
    "rules": {
      "search": {
        "author": ".s4@text",
        "bookList": ".txt-list@li!0",
        "bookUrl": "a@href",
        "coverUrl": "{{$.coverUrl}}http://u3v.cn/5zBiW8",
        "kind": ".s1@text##\\[|\\]",
        "name": "a@text"
      },
      "find": {
        "bookList": ""
      },
      "bookInfo": {
        "author": "a",
        "coverUrl": "c",
        "init": "@js:\n$ = (_) => java.getString(_);\n({\n    n: $(\"[property$=title]@content\"),\n    a: $(\"[property$=author]@content\"),\n    k: $(\"[property~=category|status|update_time]@content\"),\n    w: $(\"text.字数@text\\#\\#字数[：:]\"),\n    l: $(\"[property~=las?test_chapter_name]@content\"),\n    i: $(\"[property$=description]@content\"),\n    c: $(\"[property$=image]@content\"),\n    t: $(\"class.opt@a.2@href\"),\n    d: $(\"text.下载@href\")\n});",
        "intro": "i",
        "kind": "k",
        "lastChapter": "l",
        "name": "n",
        "tocUrl": "t",
        "wordCount": "w"
      },
      "toc": {
        "chapterList": ".fix li a",
        "chapterName": "text",
        "chapterUrl": "href"
      },
      "content": {
        "content": "#chapterContent p@textNodes"
      }
    }
  },
  {
    "id": "2fcd5bc7-dcf5-4a5a-b4fe-02aacb653c11",
    "name": "聚合书源",
    "url": "http://fqphp.yesui.me",
    "enabled": true,
    "group": "番茄",
    "comment": "/*\n源于By浅殇开发的Fqwebphp\n支持列表:番茄 七猫 猫眼 得间\n*/",
    "exploreUrl": "[\n{\"title\": \"榜 单 排 行\",\"url\": \"\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 1}},\n{\"title\": \"推荐榜单\",\"url\": \"https://api-lf.fanqiesdk.com/api/novel/channel/homepage/rank/rank_list/v2/?aid=13&limit=30&offset={{page -1}}&side_type=10&type=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"完结榜单\",\"url\": \"https://api-lf.fanqiesdk.com/api/novel/channel/homepage/rank/rank_list/v2/?aid=13&limit=30&offset={{page -1}}&side_type=11&type=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"热搜榜单\",\"url\": \"https://api-lf.fanqiesdk.com/api/novel/channel/homepage/rank/rank_list/v2/?aid=13&limit=30&offset={{page -1}}&side_type=12&type=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"黑马榜单\",\"url\": \"https://api-lf.fanqiesdk.com/api/novel/channel/homepage/rank/rank_list/v2/?aid=13&limit=30&offset={{page -1}}&side_type=13&type=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"爆更榜单\",\"url\": \"https://api-lf.fanqiesdk.com/api/novel/channel/homepage/rank/rank_list/v2/?aid=13&limit=30&offset={{page -1}}&side_type=15&type=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"每周推荐\",\"url\": \"https://fanqienovel.com/api/rank/recommend/list?type=1&limit=10&offset=0\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"男频精选\",\"url\": \"https://fanqienovel.com/api/rank/recommend/list?type=2&limit=10&offset=0\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"女频精选\",\"url\": \"https://fanqienovel.com/api/rank/recommend/list?type=3&limit=10&offset=0\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"巅峰榜单\",\"url\": \"https://fanqienovel.com/api/author/misc/top_book_list/v1/?limit=50&offset=0\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"出版榜单\",\"url\": \"https://fanqienovel.com/api/node/publication/list?page_index={{page -1}}&page_count=50\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"阅 读 分 类\",\"url\": \"\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 1}},\n{\"title\": \"都市异能\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=516&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"探案推理\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=506&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"历史古代\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=273&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"异界大陆\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=512&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"游戏主播\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=509&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"奥特同人\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=367&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"诸天万界\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=71&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"盗墓情节\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=81&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"明星娱乐\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=43&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"动漫衍生\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=718&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"玄幻脑洞\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=257&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"都市日常\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=257&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"悬疑灵异\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=751&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"悬疑脑洞\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=539&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"东方玄幻\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=511&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"奇幻仙侠\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=50&category_id=259&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"灵气复苏\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=514&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"无敌爽文\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=384&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"阅 读 标 签\",\"url\": \"\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 1}},\n{\"title\": \"大秦\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=377&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"明朝\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=126&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"三国\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=67&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"大唐\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=73&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"宋朝\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=501&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"清朝\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=503&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"推理\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=61&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"鉴宝\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=17&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"海贼\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=370&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"武将\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=497&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"国运\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=496&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"乡村\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=11&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"洪荒\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=66&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"空间\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=44&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}},\n{\"title\": \"群聊\",\"url\": \"https://api.fanqiesdk.com/api/novel/channel/homepage/new_category/book_list/v1/?aid=1967&offset={{page -1}}&limit=100&category_id=381&gender=1\",\"style\":{\"layout_flexGrow\": 1,\"layout_flexBasisPercent\": 0.25}}\n]\n\n\n\n\n\n",
    "loginUrl": "var hosts = [\n\t   \"番茄\",\n    \"七猫\",\n    \"猫眼\",\n    \"得间\",\n];\n\nfunction sethost(index) {\n    if (index >= 1 && index <= hosts.length) {\n        source.setVariable(JSON.stringify([{\"host\": hosts[index-1]}]));\n        java.longToast(\"设置成功，当前搜索：\" + hosts[index-1]);\n    } else {\n        java.toast(\"❌ 无效的线路索引\");\n    }\n}\nfunction login() {}\n\nfunction zs(zs) {\njava.startBrowserAwait(source.bookSourceUrl+'/static/img/zz.jpg',\"喝杯咖啡\");\n}\n\nfunction db1(db1) {\njava.startBrowserAwait(\"https://t.me/Fqphp\",\"交流讨论\");\n}\n",
    "loginUi": "\n[\n{\n    \"name\": \"　   番茄搜索   　\",\n    \"type\": \"button\",\n    \"action\": \"sethost(1)\"\n  },\n{\n    \"name\": \"　   七猫搜索   　\",\n    \"type\": \"button\",\n    \"action\": \"sethost(2)\"\n  },\n{\n    \"name\": \"　   猫眼搜索   　\",\n    \"type\": \"button\",\n    \"action\": \"sethost(3)\"\n  },\n{\n    \"name\": \"　   得间搜索   　\",\n    \"type\": \"button\",\n    \"action\": \"sethost(4)\"\n  },\n{\n    \"name\": \"　   交流讨论   　\",\n    \"type\": \"button\",\n    \"action\": \"db1(db1)\"\n  },\n{\n    \"name\":  \"　   喝杯咖啡   　\",\n    \"type\": \"button\",\n    \"action\": \"zs(zs)\"\n  }\n]\n\n\n\n",
    "searchUrl": "{{source.bookSourceUrl}}/search?wd={{key}}{{host()}}",
    "rules": {
      "search": {
        "author": "$.author",
        "bookList": "$.data.books[*]",
        "bookUrl": "$.url\n<js>\njava.put('r',result)\nre=result.replace(/.*?(\\d+)/,'https://api5-normal-sinfonlineb.fqnovel.com/reading/bookapi/multi-detail/v/?aid=1967&iid=1&version_code=999&book_id=$1')\n</js>",
        "coverUrl": "$.src",
        "intro": "$.intro",
        "kind": "$.mmfl",
        "name": "$.name"
      },
      "find": {
        "author": ".author",
        "bookList": ".book_list[*]&&data.data&&.publication_list[*]&&.author_list[*]&&.list[*]&&$.data.result||$.data.data",
        "bookUrl": "https://api5-normal-sinfonlineb.fqnovel.com/reading/bookapi/multi-detail/v/?aid=1967&iid=1&version_code=999&book_id={{$.book_id}}",
        "coverUrl": ".thumbUri&&audio_thumb_uri||thumb_url&&avator_url",
        "intro": ".abstract&&rank_score&&publisher&&introduction",
        "kind": "progress&&author_level&&$..score&&$.category##([0-9]{1}.*[0-9]{1})$##$1分",
        "name": ".bookName&&book_name&&author_level"
      },
      "bookInfo": {
        "author": "author",
        "coverUrl": "thumb_url",
        "init": "<js>\na=source.getVariable()\nif (a.match(/番茄/)||String(a).length<=0){\n\tresult=result.replace(/.*?(\\[(.*)]).*/,'$2')\n\t}else {\t\n\t\tb=String(java.get('r'))\n\t\tjava.log(b)\n\t\tbb=String(java.ajax(b))\n\t\t}\n</js>",
        "intro": "&nbsp;&nbsp;\n✏️ 开坑：{{$.create_time##T.*}}\n🏷️ 标签：{{$.complete_category##/##,}}\n🏷️ 标签：{{$.tags}}\n👤 主角：{{$.roles##\\[|\\\"|\\]}}\n👁️ 在线：{{$.read_count}}人在读{{'\\n'+'​'}}\n📜 简介：{{$.abstract}}{{'\\n'+'​'}}\n📍 {{$.copyright_info##，.*##。}}\n@js:result.replace(/.+：(人在读)?\\s/g,'')",
        "kind": "{{$.category}}\n{{$.score}}分\n连载{{$.creation_status}}完结\n{{$.sub_info}}\n@js:result.replace(/连载0完结/g,'完结').replace(/连载1完结/g,'连载').replace(/连载4完结/g,'已断更').replace(/连载-1完结/g,'完结')",
        "lastChapter": "{{$.last_chapter_title}} • {{java.timeFormat(java.getString('last_chapter_update_time')*1000)}}",
        "name": "book_name@put:{book_id:book_id}",
        "tocUrl": "<js>\na=source.getVariable()\nif (a.match(/番茄/)){\tre=`http://fqphp.yesui.me/detail?fq_id=@get:{book_id}`\n\t}else{\t\n\t\tb=String(java.get('r'))\n\t\t}\n</js>",
        "wordCount": "word_number"
      },
      "toc": {
        "chapterList": "$.data.lists",
        "chapterName": "$.title",
        "chapterUrl": "$.url\n<js>\na=source.getVariable()\nif (a.match(/番茄/)||String(a).length<=0){\tresult.replace(/http:\\/\\/fqphp.yesui.me/,'http://v3.yesui.me:8000')\n}else{result}\n</js>"
      },
      "content": {
        "content": "$.data.content||content\n@js:\nvar result\nresult=result.replace(/\\\\n/,'\\n')\nre='<br>'+result"
      }
    }
  },
  {
    "id": "449dd0e6-19f0-47d4-8260-e74a663b17a1",
    "name": "小説家になろう",
    "url": "https://syosetu.com/",
    "enabled": true,
    "group": "轻小说",
    "comment": "",
    "exploreUrl": "总排行::https://yomou.syosetu.com/rank/list/type/total_total/\n日排行::https://yomou.syosetu.com/rank/list/type/daily_total/\n周排行::https://yomou.syosetu.com/rank/list/type/weekly_total/\n月排行::https://yomou.syosetu.com/rank/list/type/monthly_total/\n年排行::https://yomou.syosetu.com/rank/list/type/yearly_total/\n异世界::https://yomou.syosetu.com/rank/genrelist/type/daily_101/#\n现实世界::https://yomou.syosetu.com/rank/genrelist/type/daily_102/#\n高度幻想::https://yomou.syosetu.com/rank/genrelist/type/daily_201/#\n低度幻想::https://yomou.syosetu.com/rank/genrelist/type/daily_202/#\n纯文学::https://yomou.syosetu.com/rank/genrelist/type/daily_301/#\n人间戏剧::https://yomou.syosetu.com/rank/genrelist/type/daily_302/#\n历史::https://yomou.syosetu.com/rank/genrelist/type/daily_303/#\n推理::https://yomou.syosetu.com/rank/genrelist/type/daily_304/#\n恐怖::https://yomou.syosetu.com/rank/genrelist/type/daily_305/#\n动作::https://yomou.syosetu.com/rank/genrelist/type/daily_306/#\n喜剧::https://yomou.syosetu.com/rank/genrelist/type/daily_307/#\nVR【SF】::https://yomou.syosetu.com/rank/genrelist/type/daily_401/#\n宇宙【SF】::https://yomou.syosetu.com/rank/genrelist/type/daily_402/#\n空想科学【SF】::https://yomou.syosetu.com/rank/genrelist/type/daily_403/#\n恐慌【SF】::https://yomou.syosetu.com/rank/genrelist/type/daily_404/#\n童话::https://yomou.syosetu.com/rank/genrelist/type/daily_9901/#",
    "loginUrl": "https://syosetu.com/login/input/",
    "searchUrl": "https://yomou.syosetu.com/search.php?&word={{key}}&search_type=novel&order_former=search&order=new&notnizi=1&p={{page}}",
    "rules": {
      "search": {
        "author": "class.searchkekka_box@a.1@text",
        "bookList": "class.searchkekka_box",
        "bookUrl": "class.novel_h@a@href",
        "checkKeyWord": "異世界",
        "intro": "class.ex@text",
        "kind": "tag.table@tbody@tr@td@a@text",
        "name": "class.novel_h@a@text",
        "wordCount": "class.marginleft.0@text"
      },
      "find": {
        "author": "class.p-ranklist-item__author@a@text",
        "bookList": "class.p-ranklist-item",
        "bookUrl": "class.p-ranklist-item__title@a@href",
        "intro": "class.p-ranklist-item__synopsis@text",
        "kind": "class.p-ranklist-item__keyword@a@text",
        "name": "class.p-ranklist-item__title@a@text",
        "wordCount": "class.p-ranklist-item__infomation@span.1@text"
      },
      "bookInfo": {
        "author": "class.p-novel__author@a@text",
        "intro": "class.p-novel__summary@text",
        "kind": "",
        "name": "class.p-novel__title@text",
        "tocUrl": ""
      },
      "toc": {
        "chapterList": "//*[@class='p-eplist']/div",
        "chapterName": "//a/text() || //div/text()",
        "chapterUrl": "//a/@href",
        "isVolume": "//div[@class='p-eplist__chapter-title']/text()",
        "nextTocUrl": "//a[contains(@class, 'c-pager__item--next')]/@href"
      },
      "content": {
        "content": "class.p-novel__body@html",
        "nextContentUrl": "",
        "title": "class.p-novel__title@text"
      }
    }
  },
  {
    "id": "42282bd7-c038-4893-a55f-cbc545586ea5",
    "name": "🏷晋江文学",
    "url": "https://m.jjwxc.net/channel/",
    "enabled": true,
    "group": "①🔰  正版,②🌸  常用",
    "comment": "❗️一些功能\n1、每隔八小时访问一遍签到（使用的时候访问）\n2、点击“登录”自定义发现\n3、更改过发现要刷新本书源才会生效\n4、点击章节链接可以查看评论，注意要设置成内部浏览器，长按章节链接可以设置\n5、设置源变量或设置书籍变量可以查看一些功能说明\n\n❗️注意事项:\n1、请不要退出晋江app的账号，只要点了退出，或者在其他地方登录了，都要重新抓token。\n2、更新token，书籍就要更新目录。\n3、【抓包token登录】和【账号登录】二选一，【抓包token登录】的优先级高些，填了【抓包token登录】，就是按【抓包token登录的值】登录\n\n4、登录步骤【设备保护关闭的状态下】：\n①填写好账号密码，点击“邮箱验证码”或者“手机验证码”\n②填写好验证码，点击“邮箱登录”或者“手机登录”\n③想要确认是否成功可以在登录UI里点右上角三点，查看登录头token里是否有值。\n④如果弹出提示“请校检验证码”，可尝试填入上一次发送给你验证码。\n\n5、如果邮箱和手机号无法登录，可能是需要过滑动验证码，可尝试先在晋江app里登录一遍后，再在阅读里登录，❗️还是不行就只能抓包token，填写在“抓包token登录”处。",
    "exploreUrl": "<js>\ntoken = Map(\"token\");\n\n// 选择需要开启的分类\nconst enabledCategories = Map(\"fl\") || \"9,10\";\nconst tagNum = Map(\"bq\") || \"5\";\n\ntagName = [\"言情\",\"纯爱\",\"百合\",\"无Cp\",\"多元\"][Number(tagNum)-1];\ntagCategory = [1,2,3,5,6][Number(tagNum)-1];\nconst at = Map(\"at\");\n\n\n// 一行个数（0是自由排）\nconst defaultNumPerRow = 0;\n\n\n// 分隔符\nconst separator = '::';\n\n\n//标识符\n分类标识 =\"🌸\"\n榜单标识=\"📖\"\n标签标识=\"🏷\"\n\n// 添加作者格式：作者名::作者id\nlet authorNames = String(java.base64Decode(at || \"\")).split(\" \").filter(name => name.trim() !== \"\");\nauthorNames = authorNames.length ? authorNames.map(x => `${x}::::at`) : [];\nif (authorNames.length) authorNames.unshift(\"📖 作者 📖::::1\");\n\n//书架数据\nlet ShelfNum  = Map(\"classNum\")??\"\"\nlet ShelfList = [];\n\tif(/❗️([\\s\\S]+?)❗️/.test(String(source.getVariable()))){\n\t\tShelfList =JSON.parse(String(source.getVariable()).match(/❗️([\\s\\S]+?)❗️/)[1]);\n\t\t}else{\n\t\t\tShelfNum = \"\"\n\t\t\t}\n\n// 为数组中的每一项添加 \"::::class\"\nShelfList = ShelfList.map(item => item + \"::::class\");\n\n// 标题::链接::一行个数::分类\nlet all = [\n\"🍒 其他::::1\",\n  \"点击签到::https://app.jjwxc.org/androidapi/signin,{\\\"method\\\":\\\"POST\\\",\\\"body\\\":\\\"versionCode=313&sign={{enbody = String(Date.now())+':'+String(source.getLoginHeaderMap().get('token'));String(java.createSymmetricCrypto('DES/CBC/PKCS5Padding', String('KW8Dvm2N'), String('1ae2c94b')).encryptBase64(enbody))}}\\\"}\",\n  \"今日限免::https://app-cdn.jjwxc.net/bookstore/getFullPage?channel=novelfree\",\n  \"新书千字榜::https://app-cdn.jjwxc.com/bookstore/favObservationByDate?day=today&use_cdn=1&version=19\",\n  \"⬆️ TOP 100::::1\",\n  \"言情::https://app.jjwxc.org/app.jjwxc/android/reading/TopOneHundred/getRankData?versionCode=389&type=yq,{'headers':{'versionCode': '389'}}::null\",\n\"纯爱::https://app.jjwxc.org/app.jjwxc/android/reading/TopOneHundred/getRankData?versionCode=389&type=dm,{'headers':{'versionCode': '389'}}::null\",\n\"衍生::https://app.jjwxc.org/app.jjwxc/android/reading/TopOneHundred/getRankData?versionCode=389&type=tr,{'headers':{'versionCode': '389'}}::null\",\n\"无CP+::https://app.jjwxc.org/app.jjwxc/android/reading/TopOneHundred/getRankData?versionCode=389&type=nocp_plus,{'headers':{'versionCode': '389'}}::null\",\n\"百合::https://android.jjwxc.net/app.jjwxc/android/reading/TopOneHundred/getRankData?versionCode=398&type=bh,{'headers':{'versionCode': '398','versiontype':'reading'}}::null\"\n];\n\nconst categories = [\"古代言情\",\"现代言情\",\"幻想现言\",\"古代穿越\",\"奇幻言情\",\"未来游戏悬疑\",\"都市纯爱\",\"现代幻纯\",\"古代纯爱\",\"百合\",\"无CP\",\"衍生无CP\",\"衍生纯爱\",\"衍生言情\",\"二次元言情\",\"多元\",\"男主无CP\",\"女主无CP\",\"未来幻纯\"];\n\n// 分类数据\nconst categoryData = {\n  \"古代言情\": {\n    \"连载\": [\n      \"复仇虐渣::natural_16\",\n      \"重生::natural_12\",\n      \"宫廷侯爵::natural_11\",\n      \"架空历史::natural_13\",\n      \"布衣生活::natural_9\",\n      \"古香古色::natural_8\",\n      \"科举朝堂::natural_18\",\n      \"励志人生::natural_19\",\n      \"市井人家::natural_17\",\n      \"女尊女强::natural_14\",\n      \"传奇武侠::natural_15\"\n    ],\n    \"完结\": [\n      \"复仇虐渣::natural_33\",\n      \"重生::natural_29\",\n      \"宫廷侯爵::natural_28\",\n      \"架空历史::natural_30\",\n      \"布衣生活::natural_26\",\n      \"古香古色::natural_25\",\n      \"科举朝堂::natural_35\",\n      \"励志人生::natural_36\",\n      \"市井人家::natural_34\",\n      \"女尊女强::natural_31\",\n      \"传奇武侠::natural_32\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_23\",\n                  \"运气淘文::40000001\",\n      \"勤奋更新::natural_1482\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=101&ranktype=deep\",\n      \"育苗实验::90001000_101\",\n      \"VIP新文::natural_3\",\n      \"新晋作者::natural_4\",\n      \"月度排行::natural_5\",\n      \"季度排行::natural_6\",\n      \"半年排行::natural_7\"\n    ]\n  },\n  \"现代言情\": {\n    \"连载\": [\n      \"天之骄子::natural_52\",\n      \"豪门世家::natural_44\",\n      \"励志人生::natural_46\",\n      \"娱乐星光::natural_53\",\n      \"婚前婚后::natural_47\",\n      \"时代新风::natural_51\",\n      \"校园青春::natural_73\",\n      \"都市情缘::natural_48\",\n      \"甜心蜜意::natural_75\",\n      \"破镜重圆::natural_49\",\n      \"近水楼台::natural_50\",\n      \"情有独钟::natural_76\",\n      \"时尚流行::natural_74\",\n      \"欢喜冤家::natural_54\",\n      \"因缘邂逅::natural_55\"\n    ],\n    \"完结\": [\n      \"天之骄子::natural_69\",\n      \"豪门世家::natural_61\",\n      \"励志人生::natural_63\",\n      \"娱乐星光::natural_70\",\n      \"婚前婚后::natural_64\",\n      \"时代新风::natural_68\",\n      \"校园青春::natural_77\",\n      \"都市情缘::natural_65\",\n      \"甜心蜜意::natural_79\",\n      \"破镜重圆::natural_66\",\n      \"近水楼台::natural_67\",\n      \"情有独钟::natural_80\",\n      \"时尚流行::natural_78\",\n      \"欢喜冤家::natural_71\",\n      \"因缘邂逅::natural_72\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_59\",\n                  \"运气淘文::40000002\",\n      \"勤奋更新::natural_1483\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=102&ranktype=deep\",\n      \"育苗实验::90001000_102\",\n      \"VIP新文::natural_39\",\n      \"新晋作者::natural_40\",\n      \"月度排行::natural_41\",\n      \"季度排行::natural_42\",\n      \"半年排行::natural_43\"\n    ]\n  },\n  \"幻想现言\": {\n    \"连载\": [\n      \"流金年代::natural_107\",\n      \"豪门世家::natural_100\",\n      \"娱乐时尚::natural_108\",\n      \"快穿系统::natural_97\",\n      \"种田日常::natural_98\",\n      \"打脸爽文::natural_105\",\n      \"重启人生::natural_93\",\n      \"都市异闻::natural_103\",\n      \"穿越时空::natural_94\",\n      \"神奇能力::natural_102\",\n      \"升级逆袭::natural_104\",\n      \"时代奇缘::natural_96\",\n      \"人生赢家::natural_95\",\n      \"现代架空::natural_101\",\n      \"幻想传奇::natural_99\"\n    ],\n    \"完结\": [\n      \"流金年代::natural_123\",\n      \"豪门世家::natural_116\",\n      \"娱乐时尚::natural_124\",\n      \"快穿系统::natural_113\",\n      \"种田日常::natural_114\",\n      \"打脸爽文::natural_121\",\n      \"重启人生::natural_109\",\n      \"都市异闻::natural_119\",\n      \"穿越时空::natural_110\",\n      \"神奇能力::natural_118\",\n      \"升级逆袭::natural_120\",\n      \"时代奇缘::natural_112\",\n      \"人生赢家::natural_111\",\n      \"现代架空::natural_117\",\n      \"幻想传奇::natural_115\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_86\",\n                  \"运气淘文::40000003\",\n      \"勤奋更新::natural_1484\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=103&ranktype=deep\",\n      \"育苗实验::90001000_103\",\n      \"VIP新文::natural_84\",\n      \"新晋作者::natural_87\",\n      \"月度排行::natural_81\",\n      \"季度排行::natural_82\",\n      \"半年排行::natural_88\"\n    ]\n  },\n  \"古代穿越\": {\n    \"连载\": [\n      \"复仇虐渣::natural_148\",\n      \"宫廷侯爵::natural_142\",\n      \"架空穿越::natural_140\",\n      \"系统快穿::natural_147\",\n      \"历史穿越::natural_139\",\n      \"科举朝堂::natural_146\",\n      \"布衣生活::natural_141\",\n      \"欢喜冤家::natural_143\",\n      \"女尊女强::natural_138\",\n      \"市井人家::natural_145\",\n      \"异世穿书::natural_144\"\n    ],\n    \"完结\": [\n      \"复仇虐渣::natural_164\",\n      \"宫廷侯爵::natural_158\",\n      \"架空穿越::natural_156\",\n      \"系统快穿::natural_163\",\n      \"历史穿越::natural_155\",\n      \"科举朝堂::natural_162\",\n      \"布衣生活::natural_157\",\n      \"欢喜冤家::natural_159\",\n      \"女尊女强::natural_154\",\n      \"市井人家::natural_161\",\n      \"异世穿书::natural_160\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_130\",\n                  \"运气淘文::40000004\",\n      \"勤奋更新::natural_1485\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=104&ranktype=deep\",\n      \"育苗实验::90001000_104\",\n      \"VIP新文::natural_128\",\n      \"新晋作者::natural_131\",\n      \"月度排行::natural_125\",\n      \"季度排行::natural_126\",\n      \"半年排行::natural_132\"\n    ]\n  },\n  \"奇幻言情\": {\n    \"连载\": [\n      \"天作之合::natural_179\",\n      \"西方奇幻::natural_183\",\n      \"爽文::natural_181\",\n      \"奇幻甜宠::natural_177\",\n      \"升级逆袭::natural_188\",\n      \"东方玄幻::natural_186\",\n      \"灵异神怪::natural_182\",\n      \"穿书异能::natural_187\",\n      \"系统穿越::natural_185\",\n      \"金手指::natural_184\",\n      \"另类幻想::natural_180\"\n    ],\n    \"完结\": [\n      \"天作之合::natural_191\",\n      \"西方奇幻::natural_195\",\n      \"爽文::natural_193\",\n      \"奇幻甜宠::natural_189\",\n      \"升级逆袭::natural_200\",\n      \"东方玄幻::natural_198\",\n      \"灵异神怪::natural_194\",\n      \"穿书异能::natural_199\",\n      \"系统穿越::natural_197\",\n      \"金手指::natural_196\",\n      \"另类幻想::natural_192\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_170\",\n                  \"运气淘文::40000005\",\n      \"勤奋更新::natural_1486\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=105&ranktype=deep\",\n      \"育苗实验::90001000_105\",\n      \"VIP新文::natural_168\",\n      \"新晋作者::natural_171\",\n      \"月度排行::natural_165\",\n      \"季度排行::natural_166\",\n      \"半年排行::natural_172\"\n    ]\n  },\n  \"未来游戏悬疑\": {\n    \"连载\": [\n      \"赛博废土::natural_225\",\n      \"无限领域::natural_222\",\n      \"基建种田::natural_226\",\n      \"末世异世::natural_215\",\n      \"规则怪谈::natural_223\",\n      \"游戏娱乐::natural_216\",\n      \"悬疑惊悚::natural_220\",\n      \"系统异能::natural_221\",\n      \"穿书快穿::natural_227\",\n      \"升级爽文::natural_224\",\n      \"重生穿越::natural_219\",\n      \"未来科幻::natural_217\",\n      \"推理探案::natural_214\",\n      \"幻想甜宠::natural_228\",\n      \"异度幻想::natural_218\"\n    ],\n    \"完结\": [\n      \"赛博废土::natural_241\",\n      \"无限领域::natural_238\",\n      \"基建种田::natural_242\",\n      \"末世异世::natural_231\",\n      \"规则怪谈::natural_239\",\n      \"游戏娱乐::natural_232\",\n      \"悬疑惊悚::natural_236\",\n      \"系统异能::natural_237\",\n      \"穿书快穿::natural_243\",\n      \"升级爽文::natural_240\",\n      \"重生穿越::natural_235\",\n      \"未来科幻::natural_233\",\n      \"推理探案::natural_230\",\n      \"幻想甜宠::natural_244\",\n      \"异度幻想::natural_234\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_206\",\n                  \"运气淘文::40000006\",\n      \"勤奋更新::natural_1487\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=106&ranktype=deep\",\n      \"育苗实验::90001000_106\",\n      \"VIP新文::natural_204\",\n      \"新晋作者::natural_207\",\n      \"月度排行::natural_201\",\n      \"季度排行::natural_202\",\n      \"半年排行::natural_208\"\n    ]\n  },\n  \"都市纯爱\": {\n    \"连载\": [\n      \"时尚娱乐::natural_270\",\n      \"种田日常::natural_266\",\n      \"现代都市::natural_260\",\n      \"豪门世家::natural_267\",\n      \"业界精英::natural_265\",\n      \"重生::natural_259\",\n      \"边缘恋曲::natural_264\",\n      \"校园青春::natural_261\",\n      \"婚前婚后::natural_272\",\n      \"穿越时空::natural_262\",\n      \"成长励志::natural_268\",\n      \"欢喜冤家::natural_257\",\n      \"情有独钟::natural_271\",\n      \"都市甜文::natural_258\",\n      \"打脸逆袭::natural_263\"\n    ],\n    \"完结\": [\n      \"时尚娱乐::natural_286\",\n      \"种田日常::natural_282\",\n      \"现代都市::natural_276\",\n      \"豪门世家::natural_283\",\n      \"业界精英::natural_281\",\n      \"重生::natural_275\",\n      \"边缘恋曲::natural_280\",\n      \"校园青春::natural_277\",\n      \"婚前婚后::natural_288\",\n      \"穿越时空::natural_278\",\n      \"成长励志::natural_284\",\n      \"欢喜冤家::natural_273\",\n      \"情有独钟::natural_287\",\n      \"都市甜文::natural_274\",\n      \"打脸逆袭::natural_279\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_250\",\n                  \"运气淘文::40000007\",\n      \"勤奋更新::natural_1488\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=107&ranktype=deep\",\n      \"育苗实验::90001000_107\",\n      \"VIP新文::natural_248\",\n      \"新晋作者::natural_251\",\n      \"月度排行::natural_245\",\n      \"季度排行::natural_246\",\n      \"半年排行::natural_252\"\n    ]\n  },\n  \"现代幻纯\": {\n    \"连载\": [\n      \"娱乐星光::natural_517\",\n      \"萌宠频道::natural_515\",\n      \"异闻秘术::natural_514\",\n      \"快穿世界::natural_511\",\n      \"奇幻灵异::natural_523\",\n      \"幻想甜宠::natural_521\",\n      \"无限流::natural_509\",\n      \"系统::natural_512\",\n      \"边缘幻想::natural_516\",\n      \"情有独钟::natural_520\",\n      \"升级爽文::natural_522\"\n    ],\n    \"完结\": [\n      \"娱乐星光::natural_533\",\n      \"萌宠频道::natural_531\",\n      \"异闻秘术::natural_530\",\n      \"快穿世界::natural_527\",\n      \"奇幻灵异::natural_539\",\n      \"幻想甜宠::natural_537\",\n      \"无限流::natural_525\",\n      \"系统::natural_528\",\n      \"边缘幻想::natural_532\",\n      \"情有独钟::natural_536\",\n      \"升级爽文::natural_538\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_502\",\n                  \"运气淘文::40000013\",\n      \"勤奋更新::natural_1495\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=118&ranktype=deep\",\n      \"育苗实验::90001000_118\",\n      \"VIP新文::natural_500\",\n      \"新晋作者::natural_503\",\n      \"月度排行::natural_497\",\n      \"季度排行::natural_498\",\n      \"半年排行::natural_504\"\n    ]\n  },\n  \"古代纯爱\": {\n    \"连载\": [\n      \"仙侠修真::natural_298\",\n      \"布衣生活::natural_297\",\n      \"武侠传奇::natural_307\",\n      \"西幻异世 ::natural_301\",\n      \"穿越时空::natural_303\",\n      \"重生::natural_302\",\n      \"古代幻想::natural_299\",\n      \"系统快穿::natural_304\",\n      \"玄幻灵异::natural_305\",\n      \"天作之合::natural_306\",\n      \"升级逆袭::natural_300\"\n    ],\n    \"完结\": [\n      \"仙侠修真::natural_315\",\n      \"布衣生活::natural_314\",\n      \"武侠传奇::natural_324\",\n      \"西幻异世 ::natural_318\",\n      \"穿越时空::natural_320\",\n      \"重生::natural_319\",\n      \"古代幻想::natural_316\",\n      \"系统快穿::natural_321\",\n      \"玄幻灵异::natural_322\",\n      \"天作之合::natural_323\",\n      \"升级逆袭::natural_317\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_311\",\n                  \"运气淘文::40000008\",\n      \"勤奋更新::natural_1489\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=108&ranktype=deep\",\n      \"育苗实验::90001000_108\",\n      \"VIP新文::natural_291\",\n      \"新晋作者::natural_292\",\n      \"月度排行::natural_293\",\n      \"季度排行::natural_294\",\n      \"半年排行::natural_295\"\n    ]\n  },\n  \"百合\": {\n    \"连载\": [\n      \"幻想未来::natural_336\",\n      \"架空历史::natural_334\",\n      \"都市情缘::natural_337\",\n      \"穿越时空::natural_335\",\n      \"天赐良缘::natural_338\",\n      \"时尚娱乐::natural_339\",\n      \"奇幻异闻::natural_333\",\n      \"系统快穿::natural_342\",\n      \"宫廷侯爵::natural_340\",\n      \"业界精英::natural_341\",\n      \"情有独钟::natural_343\"\n    ],\n    \"完结\": [\n      \"幻想未来::natural_353\",\n      \"架空历史::natural_351\",\n      \"都市情缘::natural_354\",\n      \"穿越时空::natural_352\",\n      \"天赐良缘::natural_355\",\n      \"时尚娱乐::natural_356\",\n      \"奇幻异闻::natural_350\",\n      \"系统快穿::natural_359\",\n      \"宫廷侯爵::natural_357\",\n      \"业界精英::natural_358\",\n      \"情有独钟::natural_360\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_1072\",\n                  \"运气淘文::40000009\",\n      \"勤奋更新::natural_1490\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=9&ranktype=deep\",\n      \"育苗实验::90001000_9\",\n      \"VIP新文::natural_1069\",\n      \"新晋作者::natural_1045\",\n      \"月度排行::natural_1043\",\n      \"季度排行::natural_1042\",\n      \"半年排行::natural_1044\"\n    ]\n  },\n  \"无CP\": {\n    \"连载\": [\n      \"未来幻想-女主::natural_477\",\n      \"都市成长-男主::natural_478\",\n      \"都市成长-女主::natural_479\",\n      \"古代架空-男主::natural_480\",\n      \"古代架空-女主::natural_481\",\n      \"无限快穿-男主::natural_482\",\n      \"无限快穿-女主::natural_483\"\n    ],\n    \"完结\": [\n      \"未来幻想-女主::natural_490\",\n      \"都市成长-男主::natural_491\",\n      \"都市成长-女主::natural_492\",\n      \"古代架空-男主::natural_493\",\n      \"古代架空-女主::natural_494\",\n      \"无限快穿-男主::natural_495\",\n      \"无限快穿-女主::natural_496\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_487\",\n                  \"运气淘文::40000014\",\n      \"勤奋更新::natural_1494\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=114&ranktype=deep\",\n      \"育苗实验::90001000_114\",\n      \"VIP新文::natural_471\",\n      \"新晋作者::natural_472\",\n      \"月度排行::natural_473\",\n      \"季度排行::natural_474\",\n      \"半年排行::natural_475\"\n    ]\n  },\n  \"衍生无CP\": {\n    \"连载\": [\n      \"幻想轻小说::natural_549\",\n      \"东方衍生::natural_550\",\n      \"西方衍生::natural_555\",\n      \"二次元热血::natural_552\",\n      \"二次元幻想::natural_553\",\n      \"二次元异能::natural_554\",\n      \"女主向::natural_551\"\n    ],\n    \"完结\": [\n      \"幻想轻小说::natural_562\",\n      \"东方衍生::natural_563\",\n      \"西方衍生::natural_568\",\n      \"二次元热血::natural_565\",\n      \"二次元幻想::natural_566\",\n      \"二次元异能::natural_567\",\n      \"女主向::natural_564\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_559\",\n      \"运气淘文::40000015\",\n      \"勤奋更新::natural_1496\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=120&ranktype=deep\",\n      \"育苗实验::90001000_120\",\n      \"VIP新文::natural_543\",\n      \"新晋作者::natural_544\",\n      \"月度排行::natural_545\",\n      \"季度排行::natural_546\",\n      \"半年排行::natural_547\"\n    ]\n  },\n  \"衍生纯爱\": {\n    \"连载\": [\n      \"西方罗曼::natural_373\",\n      \"都市轻小说::natural_376\",\n      \"幻想轻小说::natural_377\",\n      \"二次元热血::natural_378\",\n      \"二次元幻想::natural_379\",\n      \"二次元异能::natural_369\",\n      \"其他衍生::natural_372\"\n    ],\n    \"完结\": [\n      \"西方罗曼::natural_390\",\n      \"都市轻小说::natural_393\",\n      \"幻想轻小说::natural_394\",\n      \"二次元热血::natural_395\",\n      \"二次元幻想::natural_396\",\n      \"二次元异能::natural_386\",\n      \"其他衍生::natural_389\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_383\",\n                  \"运气淘文::40000010\",\n      \"勤奋更新::natural_1491\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=110&ranktype=deep\",\n      \"育苗实验::90001000_110\",\n      \"VIP新文::natural_363\",\n      \"新晋作者::natural_364\",\n      \"月度排行::natural_365\",\n      \"季度排行::natural_366\",\n      \"半年排行::natural_367\"\n    ]\n  },\n  \"衍生言情\": {\n    \"连载\": [\n      \"历史传奇::natural_450\",\n      \"西方罗曼::natural_449\",\n      \"无限快穿::natural_451\",\n      \"江湖恩怨::natural_453\",\n      \"娱乐竞技::natural_454\",\n      \"东方幻想::natural_452\",\n      \"其他::natural_455\"\n    ],\n    \"完结\": [\n      \"历史传奇::natural_463\",\n      \"西方罗曼::natural_462\",\n      \"无限快穿::natural_464\",\n      \"江湖恩怨::natural_466\",\n      \"娱乐竞技::natural_467\",\n      \"东方幻想::natural_465\",\n      \"其他::natural_468\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_459\",\n                  \"运气淘文::40000012\",\n      \"勤奋更新::natural_1493\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=112&ranktype=deep\",\n      \"育苗实验::90001000_112\",\n      \"VIP新文::natural_443\",\n      \"新晋作者::natural_444\",\n      \"月度排行::natural_445\",\n      \"季度排行::natural_446\",\n      \"半年排行::natural_447\"\n    ]\n  },\n  \"二次元言情\": {\n    \"连载\": [\n      \"多重身份::natural_415\",\n      \"经营基建::natural_418\",\n      \"竞技社团::natural_422\",\n      \"东方古风::natural_412\",\n      \"西幻魔幻::natural_413\",\n      \"乙女游戏::natural_414\",\n      \"异能超能::natural_417\",\n      \"转生::natural_420\",\n      \"异闻怪谈::natural_421\",\n      \"浪漫情缘::natural_419\",\n      \"新奇幻想::natural_423\"\n    ],\n    \"完结\": [\n      \"多重身份::natural_432\",\n      \"经营基建::natural_435\",\n      \"竞技社团::natural_439\",\n      \"东方古风::natural_429\",\n      \"西幻魔幻::natural_430\",\n      \"乙女游戏::natural_431\",\n      \"异能超能::natural_434\",\n      \"转生::natural_437\",\n      \"异闻怪谈::natural_438\",\n      \"浪漫情缘::natural_436\",\n      \"新奇幻想::natural_440\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_427\",\n                  \"运气淘文::40000011\",\n      \"勤奋更新::natural_1492\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=111&ranktype=deep\",\n      \"育苗实验::90001000_111\",\n      \"VIP新文::natural_407\",\n      \"新晋作者::natural_408\",\n      \"月度排行::natural_409\",\n      \"季度排行::natural_410\",\n      \"半年排行::natural_411\"\n    ]\n  },\n  \"多元\": {\n    \"连载\": [],\n    \"完结\": [],\n    \"榜单\": [\n      \"频道金榜::natural_1010\",\n      \"月度排行::natural_1012\",\n      \"VIP新文::natural_1011\",\n      \"育苗实验::90001000_121\",\n      \"新晋作者::natural_1013\",\n      \"季度排行::natural_1014\",\n      \"半年排行::natural_1518\"\n    ]\n  },\n  \"男主无CP\": {\n    \"连载\": [\n      \"都市成长::natural_478\",\n      \"古代架空::natural_480\",\n      \"无限快穿::natural_482\"\n    ],\n    \"完结\": [\n      \"都市成长::natural_491\",\n      \"古代架空::natural_493\",\n      \"无限快穿::natural_495\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_992\",\n                  \"勤奋更新::natural_1515\",\n      \"VIP新文::natural_986\",\n      \"新晋作者::natural_987\",\n      \"月度排行::natural_988\",\n      \"季度排行::natural_989\",\n      \"半年排行::natural_990\"\n    ]\n  },\n  \"女主无CP\": {\n    \"连载\": [\n      \"都市成长::natural_479\",\n      \"古代架空::natural_481\",\n      \"无限快穿::natural_483\"\n    ],\n    \"完结\": [\n      \"都市成长::natural_492\",\n      \"古代架空::natural_494\",\n      \"无限快穿::natural_496\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_1000\",\n                  \"勤奋更新::natural_1516\",\n      \"VIP新文::natural_994\",\n      \"新晋作者::natural_995\",\n      \"月度排行::natural_996\",\n      \"季度排行::natural_997\",\n      \"半年排行::natural_998\"\n    ]\n  },\n  \"未来幻纯\": {\n    \"连载\": [\n      \"娱乐竞技::natural_1112\",\n      \"快穿::natural_1113\",\n      \"无限流::natural_1114\",\n      \"系统::natural_1115\",\n      \"末世狂想::natural_1116\",\n      \"幻想甜宠::natural_1117\",\n      \"星际日常::natural_1118\",\n      \"奇幻异想::natural_1119\",\n      \"边缘幻想::natural_1120\",\n      \"未来畅想::natural_1121\",\n      \"升级爽文::natural_1122\"\n    ],\n    \"完结\": [\n      \"娱乐竞技::natural_1128\",\n      \"快穿::natural_1129\",\n      \"无限流::natural_1130\",\n      \"系统::natural_1131\",\n      \"末世狂想::natural_1132\",\n      \"幻想甜宠::natural_1133\",\n      \"星际日常::natural_1134\",\n      \"奇幻异想::natural_1135\",\n      \"边缘幻想::natural_1136\",\n      \"未来畅想::natural_1137\",\n      \"升级爽文::natural_1138\"\n    ],\n    \"榜单\": [\n      \"频道金榜::natural_1104\",\n      \"运气淘文::wlhxca\",\n      \"勤奋更新::natural_1497\",\n      \"深耕排行::https://app-cdn.jjwxc.com/newBookStoreAndroid/getRankMoreData?channel=126&ranktype=deep\",\n      \"育苗实验::90001000_126\",\n      \"VIP新文::natural_1102\",\n      \"新晋作者::natural_1105\",\n      \"月度排行::natural_1099\",\n      \"季度排行::natural_1100\",\n      \"半年排行::natural_1106\"\n    ]\n  }\n}\n\n// 标签数据\nconst tags = [\"轻松::262::::bq\",\"爽文::137::::bq\",\"甜文::124::::bq\",\"正剧::263::::bq\",\"穿书::134::::bq\",\"强强::19::::bq\",\"系统::122::::bq\",\"成长::183::::bq\",\"重生::75::::bq\",\"惊悚::9::::lx\",\"悬疑::10::::lx\",\"剧情::16::::lx\",\"快穿::125::::bq\",\"直播::142::::bq\",\"逆袭::184::::bq\",\"励志::121::::bq\",\"打脸::138::::bq\",\"女强::82::::bq\",\"异能::72::::bq\",\"基建::237::::bq\",\"救赎::329::::bq\",\"女配::96::::bq\",\"暗恋::314::::bq\",\"末世::81::::bq\",\"惊悚::29::::bq\",\"婚恋::78::::bq\",\"科幻::28::::bq\",\"炮灰::305::::bq\",\"开挂::344::::bq\",\"经营::180::::bq\",\"脑洞::273::::bq\",\"烧脑::269::::bq\",\"爱情::1::::lx\",\"武侠::2::::lx\",\"奇幻::3::::lx\",\"仙侠::4::::lx\",\"游戏::5::::lx\",\"传奇::6::::lx\",\"科幻::7::::lx\",\"童话::8::::lx\",\"都市::30::::bq\",\"校园::185::::bq\",\"综漫::6::::bq\",\"星际::135::::bq\",\"日常::268::::bq\",\"柯南::241::::bq\",\"年下::21::::bq\",\"咒回::240::::bq\",\"沙雕::266::::bq\",\"美食::99::::bq\",\"生子::20::::bq\",\"群像::356::::bq\",\"萌宠::205::::bq\",\"文野::208::::bq\",\"治愈::265::::bq\",\"团宠::287::::bq\",\"爆笑::261::::bq\",\"西幻::143::::bq\",\"魔幻::27::::bq\",\"综艺::335::::bq\",\"热血::267::::bq\",\"废土::281::::bq\",\"清穿::18::::bq\",\"朝堂::178::::bq\",\"虫族::260::::bq\",\"玄学::206::::bq\",\"萌娃::302::::bq\",\"钓系::298::::bq\",\"电竞::328::::bq\",\"港风::282::::bq\",\"全息::276::::bq\",\"宫斗::74::::bq\",\"剧透::343::::bq\",\"科举::174::::bq\",\"机甲::97::::bq\",\"虐文::42::::bq\",\"网王::1::::bq\",\"原神::371::::bq\",\"古早::275::::bq\",\"师徒::292::::bq\",\"家教::12::::bq\",\"江湖::35::::bq\",\"忠犬::312::::bq\",\"武侠::11::::bq\",\"七五::8::::bq\",\"宅斗::73::::bq\",\"腹黑::290::::bq\",\"权谋::326::::bq\",\"失忆::320::::bq\",\"猎人::5::::bq\",\"洪荒::67::::bq\",\"卡牌::357::::bq\",\"职场::98::::bq\",\"御姐::310::::bq\",\"盲盒::345::::bq\",\"吐槽::270::::bq\",\"替身::286::::bq\",\"预知::346::::bq\",\"创业::330::::bq\",\"足球::368::::bq\",\"BE::317::::bq\",\"HE::318::::bq\",\"ABO::259::::bq\",\"APP::338::::bq\",\"NPC::293::::bq\",\"哨向::369::::bq\",\"田园::58::::bq\",\"中二::375::::bq\",\"群穿::352::::bq\",\"奇谭::197::::bq\",\"囤货::322::::bq\",\"位面::350::::bq\",\"学霸::309::::bq\",\"傲娇::294::::bq\",\"民国::61::::bq\",\"鬼灭::254::::bq\",\"开荒::331::::bq\",\"商战::123::::bq\",\"转生::362::::bq\",\"锦鲤::349::::bq\",\"齐神::201::::bq\",\"血族::69::::bq\",\"网红::141::::bq\",\"现实::271::::bq\",\"扶贫::324::::bq\",\"封神::215::::bq\",\"冰山::296::::bq\",\"聊斋::188::::bq\",\"天降::308::::bq\",\"美娱::140::::bq\",\"毒舌::299::::bq\",\"非遗::323::::bq\",\"吃货::297::::bq\",\"御兽::365::::bq\",\"悲剧::264::::bq\",\"港台::87::::bq\",\"网配::84::::bq\",\"曲艺::306::::bq\",\"婆媳::80::::bq\",\"恶役::359::::bq\",\"轻小说::17::::lx\",\"娱乐圈::64::::bq\",\"无限流::83::::bq\",\"升级流::139::::bq\",\"种田文::66::::bq\",\"年代文::173::::bq\",\"万人迷::295::::bq\",\"美强惨::291::::bq\",\"少年漫::90::::bq\",\"马甲文::243::::bq\",\"克苏鲁::283::::bq\",\"白月光::313::::bq\",\"单元文::355::::bq\",\"高智商::311::::bq\",\"读心术::337::::bq\",\"时尚圈::182::::bq\",\"迪化流::370::::bq\",\"龙傲天::289::::bq\",\"论坛体::354::::bq\",\"对照组::316::::bq\",\"古穿今::65::::bq\",\"红楼梦::15::::bq\",\"反套路::274::::bq\",\"神豪流::348::::bq\",\"纸片人::288::::bq\",\"日韩泰::86::::bq\",\"签到流::351::::bq\",\"读档流::340::::bq\",\"召唤流::347::::bq\",\"大冒险::198::::bq\",\"姐弟恋::186::::bq\",\"模拟器::358::::bq\",\"乙女向::360::::bq\",\"少女漫::14::::bq\",\"吐槽役::366::::bq\",\"犬夜叉::257::::bq\",\"红包群::341::::bq\",\"中世纪::280::::bq\",\"对话体::353::::bq\",\"情有独钟::39::::bq\",\"穿越时空::60::::bq\",\"天作之合::52::::bq\",\"天之骄子::54::::bq\",\"豪门世家::33::::bq\",\"宫廷侯爵::32::::bq\",\"仙侠修真::68::::bq\",\"破镜重圆::47::::bq\",\"业界精英::101::::bq\",\"灵异神怪::26::::bq\",\"幻想空间::25::::bq\",\"先婚后爱::315::::bq\",\"欢喜冤家::41::::bq\",\"悬疑推理::128::::bq\",\"游戏网游::92::::bq\",\"时代奇缘::22::::bq\",\"青梅竹马::62::::bq\",\"因缘邂逅::45::::bq\",\"现代架空::126::::bq\",\"相爱相杀::103::::bq\",\"花季雨季::31::::bq\",\"未来架空::127::::bq\",\"恋爱合约::48::::bq\",\"英美衍生::17::::bq\",\"体育竞技::70::::bq\",\"近水楼台::46::::bq\",\"超级英雄::132::::bq\",\"东方玄幻::144::::bq\",\"布衣生活::38::::bq\",\"乔装改扮::51::::bq\",\"规则怪谈::361::::bq\",\"复仇虐渣::145::::bq\",\"异世大陆::57::::bq\",\"高岭之花::301::::bq\",\"市井生活::175::::bq\",\"赛博朋克::277::::bq\",\"女扮男装::136::::bq\",\"随身空间::56::::bq\",\"第四天灾::285::::bq\",\"前世今生::49::::bq\",\"灵魂转换::23::::bq\",\"西方罗曼::59::::bq\",\"阴差阳错::53::::bq\",\"都市异闻::181::::bq\",\"天选之子::307::::bq\",\"史诗奇幻::199::::bq\",\"时代新风::210::::bq\",\"抽奖抽卡::339::::bq\",\"日久生情::332::::bq\",\"异想天开::190::::bq\",\"边缘恋歌::44::::bq\",\"排球少年::253::::bq\",\"异闻传说::196::::bq\",\"制服情缘::85::::bq\",\"三教九流::36::::bq\",\"神话传说::367::::bq\",\"古代幻想::189::::bq\",\"古典名著::130::::bq\",\"平步青云::55::::bq\",\"灵气复苏::284::::bq\",\"西方名著::16::::bq\",\"荒野求生::319::::bq\",\"赶山赶海::325::::bq\",\"性别转换::24::::bq\",\"真假千金::334::::bq\",\"刀剑乱舞::258::::bq\",\"星穹铁道::372::::bq\",\"多重人格::300::::bq\",\"极品亲戚::336::::bq\",\"骑士与剑::63::::bq\",\"亡灵异族::192::::bq\",\"交换人生::342::::bq\",\"魔法少女::256::::bq\",\"原始社会::279::::bq\",\"七年之痒::79::::bq\",\"蒸汽朋克::278::::bq\",\"古典衍生::20::::lx\",\"东方衍生::18::::lx\",\"西方衍生::19::::lx\",\"历史衍生::91::::bq\",\"其他衍生::21::::lx\",\"追爱火葬场::321::::bq\"];\n\n// 解析分类数据\nfunction parseCategory(data) {\n  const [title, url, num = defaultNumPerRow] = data.split(separator);\n  \n  const fullUrl = /^\\d+|natural/.test(url) \n    ? `http://app-cdn.jjwxc.net/bookstore/getFullPage?channelBody=%7B%22${url}%22%3A%7B%22offset%22%3A%22{{(page-1)*25}}%22%2C%22limit%22%3A%2225%22%7D%7D&versionCode=148`\n    : url;\n  \n  return [title, fullUrl, num];\n}\n\n// 解析标签数据\nfunction parseTag(data, tagCategory) {\n  const [title, url, num = defaultNumPerRow, tagType] = data.split(separator);\n  \n  let fullUrl = url;\n  if (tagType === \"bq\") {\n    fullUrl = `https://android.jjwxc.com/search/getSearchForKeyWords?versionCode=313&offset={{(page-1)*20}}&limit=20&bq=${url}&removetags=0&fw=0&yc=0&xx=${tagCategory}&sd=0&lx=0&fg=0&mainview=0&fbsj=0&collectionTypes=ors&isfinish=0&sortType=0&token=${token}`;\n  } else if (tagType === \"at\") {\n  \tfullUrl = `https://app-cdn.jjwxc.com/androidapi/authorColumn?authorid=${url}`;\n  \t\n  \t}else if (tagType === \"class\") {\n  \tfullUrl = `https://android.jjwxc.net/androidapi/incrementFavorite,{'method':'POST','body':\\\"versionCode=313&token=${token}&order=0&classId=${url}&backupTime=${Date.now()}\\\"}`\n  \t\n  \t}else if (tagType === \"lx\") {\n    fullUrl = `https://android.jjwxc.com/search/getSearchForKeyWords?versionCode=313&offset={{(page-1)*20}}&limit=20&bq=0&removetags=0&fw=0&yc=0&xx=${tagCategory}&sd=0&lx=${url}&fg=0&mainview=0&fbsj=0&collectionTypes=ors&isfinish=0&sortType=0&token=${token}`;\n  }\n  return [title, fullUrl, num];\n}\n\n// 创建 FlexBox 对象\nfunction createFlexBox(title, url, num) {\n  const flexBasisMap = { 1: 1, 2: 0.4, 3: 0.25, 4: 0.2, 5: 0.15, 7: 0.1, 10: 0.05 };\n  return {\n    title,\n    url: url || '',\n    style: {\n      layout_flexGrow: 1,\n      layout_flexBasisPercent: flexBasisMap[num]\n    }\n  };\n}\n\n// 生成分类结果\nconst result = [];\nresult.push(createFlexBox(`📂 我的收藏`, \"https://android.jjwxc.net/androidapi/incrementFavorite,{'method':'POST','body':\\\"versionCode=313&token={{source.getLoginHeaderMap().get('token')}}&order=0&classId=&backupTime={{Date.now()}}\\\"}\", 1));\n\nif(ShelfNum){\nconst ShelfNumList = String(ShelfNum).split(\",\");\nShelfNumList.forEach(x => {\n  const parsedTag = parseTag(ShelfList[x]);\n  result.push(createFlexBox(parsedTag[0], parsedTag[1], parsedTag[2],parsedTag[3]));\n});\n}\n\n\nauthorNames.forEach(tag => {\n  const parsedTag = parseTag(tag, tagCategory);\n  result.push(createFlexBox(parsedTag[0], parsedTag[1], parsedTag[2],parsedTag[3]));\n});\n\nJSON.stringify(result);\n\nall.forEach(item => {\n  const parsedItem = parseCategory(item);\n  result.push(createFlexBox(parsedItem[0], parsedItem[1], parsedItem[2]));\n});\n\nconst enabledCategoryList = enabledCategories.split(\",\");\nenabledCategoryList.forEach(categoryIndex => {\n  const categoryName = categories[categoryIndex];\n  if (categoryData[categoryName]) {\n    result.push(createFlexBox(`${分类标识} ${categoryName}连载`, null, 1));\n    categoryData[categoryName].连载.forEach(item => {\n      const parsedItem = parseCategory(item);\n      result.push(createFlexBox(parsedItem[0], parsedItem[1], parsedItem[2]));\n    });\n    result.push(createFlexBox(`${分类标识} ${categoryName}完结`, null, 1));\n    categoryData[categoryName].完结.forEach(item => {\n      const parsedItem = parseCategory(item);\n      result.push(createFlexBox(parsedItem[0], parsedItem[1], parsedItem[2]));\n    });\n    result.push(createFlexBox(`${榜单标识} ${categoryName}榜单`, null, 1));\n    categoryData[categoryName].榜单.forEach(item => {\n      const parsedItem = parseCategory(item);\n      result.push(createFlexBox(parsedItem[0], parsedItem[1], parsedItem[2]));\n    });\n  }\n});\n\nresult.push(createFlexBox(`${标签标识} ${tagName}标签`, null, 1));\ntags.forEach(tag => {\n  const parsedTag = parseTag(tag, tagCategory);\n  result.push(createFlexBox(parsedTag[0], parsedTag[1], parsedTag[2],parsedTag[3]));\n});\n\nJSON.stringify(result);\n\n\n</js>",
    "loginUrl": "<js>\n\n//请不要改书源的任何地方，请点击“登录”后再填写\n\n//保存标签等序号\nfunction saveTag(svg,tagType){\n\tlet Code = String(java.getVerificationCode('data:image/svg+xml;base64,'+svg));\n    if(/(\\d,*)*/.test(Code)){\n\t    Map = source.getLoginHeaderMap();\n\t    Map == (Map == null||Map==\"\")?{}:Map\n\t    Map[tagType]=Code;\n\t    source.putLoginHeader(JSON.stringify(Map))\n\t    java.toast(\"已保存数据\")\n\t}\n}\n\nfunction rd() {\n    let n = [0, 1, 2, 3, 4, 5, 6, 7, 8, 9];\n    let s = \"\";\n    for (let i = 0; i < 20; i++) {\n        let r = Math.floor(Math.random() * 10);\n        s += n[r];\n    }\n    return s;\n}\n\n//获取书架数据\nfunction getShelf(){\n    let sourceGet = String(source.getVariable()).replace(/\\n*(?:请勿删除此书架数据)*❗️[\\s\\S]+?❗️/g,'');\n\tlet token = Map(\"token\");\n\tlet ShelfUrl = `https://android.jjwxc.net/androidapi/incrementFavorite,{'method':'POST','body':\\\"versionCode=313&token=${token}&order=1&classId=&backupTime=${Date.now()}\\\"}`\n\tlet ShelfJson = String(java.ajax(ShelfUrl));\n    ShelfJson = JSON.parse(ShelfJson);\n\t    function extractClassInfo(obj, result = [], uniqueSet = new Set()) {\n\t    // 如果当前对象是数组，递归遍历数组中的每个元素\n\t    if (Array.isArray(obj)) {\n\t        for (let item of obj) {\n\t            extractClassInfo(item, result, uniqueSet);\n\t        }\n\t    } else if (typeof obj === 'object' && obj !== null) {\n        // 检查是否存在 className 和 classId\n\t        if (obj.hasOwnProperty('className') && obj.hasOwnProperty('classId')) {\n\t            let className = obj.className;\n\t            // 如果 className 为空，设置为“尚未分类”\n\t            if (className.trim() === \"\") {\n\t                className = \"尚未分类\";\n\t            }\n\t            // 构造组合字符串\n\t            const combo = `${className}::${obj.classId}`;\n\t            // 如果组合字符串未出现过，添加到结果中\n\t            if (!uniqueSet.has(combo)) {\n\t                uniqueSet.add(combo);\n\t                result.push(combo);\n\t            }\n\t        }\n\t        // 递归遍历对象的每个属性\n\t        for (let key in obj) {\n\t            extractClassInfo(obj[key], result, uniqueSet);\n\t        }\n  \t\t  }\n    \t\treturn result;\n\t   }\n\n\tlet ShlefClass = \"请勿删除此书架数据❗️\"+JSON.stringify(extractClassInfo(ShelfJson))+\"❗️\"\n\tsource.setVariable(sourceGet+\"\\n\"+ShlefClass);\n\tjava.longToast(\"已获取书架数据，请点击选择显示的书架\")\n}\n\n//选择要显示的书架\nfunction showShelf(){\n\ttry{\n\t\tif(!/❗️([\\s\\S]+?)❗️/.test(String(source.getVariable()))){\n\t\t\tjava.longToast(\"请先点击获取书架数据，只需点一次\");\n\t\t\treturn \"\"\n\t\t}\n\t\tlet sourceGet = String(source.getVariable()).match(/❗️([\\s\\S]+?)❗️/)[1];\n\t\tlet classNameList = JSON.parse(sourceGet);\n\t\tlet className = classNameList.map((x,i)=>i+\"、\"+x.split(\"::\")[0]);\n\t\t \n\t\t// 初始 x 值\n\t\tlet x = 50;\n\t\t// x 的增量\n\t\tconst xIncrement = 230; // 250 - 20 = 230\n\t\t// x 的最大值\n\t\tconst xMax = 910;\n\t\t// 生成 <tspan> 元素的字符串\n\t\tlet tspanElements = className.map((item) => {\n\t\t    // 如果 x 为 20，dy 为 \"1.5em\"，否则为 \"0\"\n\t\t    const dy = x === 50 ? \"1.5em\" : \"0\";\n\t\t    // 构造 <tspan> 元素\n\t\t    const tspan = `<tspan x=\"${x}\" dy=\"${dy}\">${item}</tspan>`;\n\t\t    // 更新 x 的值\n\t\t    x += xIncrement;\n\t\t    // 如果 x 超过最大值，重置为 20\n\t\t    if (x > xMax) {\n\t\t        x = 50;\n\t\t    }\n\t\t    return tspan;\n\t\t}).join(\"\\n\"); // 用换行符拼接\n\n\t\t svg = `<svg width=\"1190\" height=\"300\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t  <!-- 背景矩形 -->\n\t\t  <rect width=\"100%\" height=\"100%\" fill=\"#ffffff\"/>\n\t\t\n\t\t  <!-- 标题 -->\n\t\t  <text x=\"20\" y=\"60\" font-family=\"Arial, sans-serif\" font-size=\"30\" fill=\"#333\" font-weight=\"bold\">选项（输入你要显示的书架序号，再点“✓”如：0,1,2 是英文逗号）</text>\n\t\t\n\t\t  <!-- 选项列表 -->\n\t\t  <text x=\"50\" y=\"60\" font-family=\"Arial, sans-serif\" font-size=\"30\" fill=\"#555\">\n\t\t  ${tspanElements}\n\t\t    </text>\n\t\t</svg>`;\n\t\tsvg=java.base64Encode(svg);\n\t\tsaveTag(String(svg),\"classNum\")\n\t\t\n\t}catch(e){\n\t\tjava.log(e)\n\t}\n}\nfunction toThank(){\n\tjava.startBrowser(\"data:text/html;base64,PGltZyBzdHlsZT0id2lkdGg6MTAwJSIgc3JjPSJhYm91dDpibGFuayIgb25lcnJvcj0idGhpcy5zcmM9YXRvYignYUhSMGNEb3ZMMmQxWVc1bGNpNTNiM0pyTDJkMVlXNWxjaTV3Ym1jPScpIj4KCg==\",\"感谢你的支持\");\t\n\t}\nfunction getFl(){\n\tlet svg=`<svg width=\"1150\" height=\"300\" xmlns=\"http://www.w3.org/2000/svg\">\n\t  <!-- 背景矩形 -->\n\t  <rect width=\"100%\" height=\"100%\" fill=\"#f0f0f0\" />\n\t\n\t  <!-- 标题 -->\n\t  <text x=\"20\" y=\"60\" font-family=\"Arial, sans-serif\" font-size=\"35\" fill=\"#333\" font-weight=\"bold\">选项（填写需要的序号后，点“✓”确认，如：2,5【默认为9,10】）</text>\n\t\n\t  <!-- 选项列表 -->\n\t  <text x=\"50\" y=\"60\" font-family=\"Arial, sans-serif\" font-size=\"30\" fill=\"#555\">\n\t    <tspan x=\"150\" dy=\"1.5em\">0. 古代言情</tspan>\n\t    <tspan x=\"400\" dy=\"0\">1. 现代言情</tspan>\n\t    <tspan x=\"650\" dy=\"0\">2. 幻想现言</tspan>\n\t    <tspan x=\"900\" dy=\"0\">3. 古代穿越</tspan>\n\t    <tspan x=\"150\" dy=\"1.5em\">4. 奇幻言情</tspan>\n\t    <tspan x=\"400\" dy=\"0\">5. 未来游戏悬疑</tspan>\n\t    <tspan x=\"650\" dy=\"0\">6. 都市纯爱</tspan>\n\t    <tspan x=\"900\" dy=\"0\">7. 现代幻纯</tspan>\n\t    <tspan x=\"150\" dy=\"1.5em\">8. 古代纯爱</tspan>\n\t    <tspan x=\"400\" dy=\"0\">9. 百合</tspan>\n\t    <tspan x=\"650\" dy=\"0\">10. 无CP</tspan>\n\t    <tspan x=\"900\" dy=\"0\">11. 衍生无CP</tspan>\n\t    <tspan x=\"150\" dy=\"1.5em\">12. 衍生纯爱</tspan>\n\t    <tspan x=\"400\" dy=\"0\">13. 衍生言情</tspan>\n\t    <tspan x=\"650\" dy=\"0\">14. 二次元言情</tspan>\n\t    <tspan x=\"900\" dy=\"0\">15. 多元</tspan>\n\t    <tspan x=\"150\" dy=\"1.5em\">16. 男主无CP</tspan>\n\t    <tspan x=\"400\" dy=\"0\">17. 女主无CP</tspan>\n\t    <tspan x=\"650\" dy=\"0\">18. 未来幻纯</tspan>\n\t  </text>\n\t</svg>`;\n\tsvg=java.base64Encode(svg);\n\tsaveTag(svg,\"fl\")\n\n}\nfunction getTag(){\n\tlet svg=`<svg width=\"1150\" height=\"300\" xmlns=\"http://www.w3.org/2000/svg\">\n\t  <!-- 背景矩形 -->\n\t  <rect width=\"100%\" height=\"100%\" fill=\"#f0f0f0\" />\n\t\n\t  <!-- 标题 -->\n\t  <text x=\"20\" y=\"40\" font-family=\"Arial, sans-serif\" font-size=\"35\" fill=\"#333\" font-weight=\"bold\">选项（填写需要的序号后，点“✓”确认，如：2【默认为5，只能单选】）</text>\n\t\n\t  <!-- 选项列表 -->\n\t  <text x=\"60\" y=\"60\" font-family=\"Arial, sans-serif\" font-size=\"50\" fill=\"#555\">\n\t    <tspan x=\"150\" dy=\"2.5em\">1. 言情</tspan>\n\t    <tspan x=\"400\" dy=\"0\">2. 纯爱</tspan>\n\t    <tspan x=\"650\" dy=\"0\">3. 百合</tspan>\n\t    <tspan x=\"150\" dy=\"1.5em\">4. 无CP</tspan>\n\t    <tspan x=\"400\" dy=\"0\">5. 多元</tspan>\n\t  </text>\n\t</svg>`;\n\tsvg=java.base64Encode(svg);\n\tsaveTag(svg,\"bq\")\n\n}\n\n\nfunction getloginUrl(){\n\tlet 账号 = result.get(\"账号\");\n\tlet 密码 = result.get(\"密码\");\n\tlet en = encode(密码);\n\tlet id = rd()+\":\"+java.androidId()+\"d4:\";\n\tlet sign = encode(Date.now()+\"_\"+id+\"_\");\n\tlet loginUrl = `https://app.jjwxc.org/androidapi/login?versionCode=401&loginName=${encodeURIComponent(账号)}&encode=1&loginPassword=${encodeURIComponent(en)}&sign=${encodeURIComponent(sign)}&identifiers=${encodeURIComponent(id)}&autologin=1`;\n\treturn loginUrl\n}\n\nfunction getCode(t){\n\ttry{\n\t\tlet 验证码 = result.get(\"验证码（填完验证码后，要点👤登录）\");\n\t\tlet 账号 = result.get(\"账号\");\n\t\tlet 密码 = result.get(\"密码\");\n\t\t\n\t\tif(!/^\\d{4,}/.test(验证码)){\n\t\t\tlet res = \tJSON.parse(java.ajax(getloginUrl()));\n\t\n\t\t\tif(res.code==\"221003\"){\n\t\t\t\tlet url = \"https://app.jjwxc.org//appDevicesecurityAndroid/getDeviceSecurityCode\";\n\t\t\t\tbody = \"versionCode=401&username=\"+encodeURIComponent(账号)+\"&checktype=\"+t;\n\t\t\t\toption = {\n\t\t\t\t\t\"method\":\"POST\",\n\t\t\t\t\t\"body\":String(body)\n\t\t\t\t\t}\n\t\t\t\t\tmsg = JSON.parse(java.ajax(url+\",\"+JSON.stringify(option))).data.message;\n\t\t\t\t\t\n\t\t\t\t\tjava.toast(msg);\n\t\t\t}else{\n\t\t\t       if(/\\d+_[a-z\\d]+/.test(res.token)){\n\t\t\t             java.log(\"获取到的token值: \"+res.token);\n\t\t\t             java.longToast(\"登录成功\"+res.token);\n\t\t\t             LoginToken(res.token)\n\t\t\t       }\n\t\t\t       \n\t\t\t   msg = /校验验证码/.test(res.message)?\"请请尝试填入上次发给你的验证码（可能是很久之前的）\":res.message;\n\t\t\t   java.log(msg);\n\t\t\t\t\tjava.toast(msg??\"已成功登录\"+res.token+\"，无需填验证码\")\n\t\t\t\t}\n\t\t}else{\n\t\t\tlet lurl = getloginUrl()+\"&checktype=\"+t+\"&checkdevicecode=\"+验证码;\n\t\t\thhh = java.ajax(lurl);\n\t\t\tlet token = JSON.parse(hhh).token??JSON.parse(hhh).message;\n\t\t\tjava.longToast(token);\n\t\t\tjava.log(\"获取到的token值: \"+token)\n\t\t\tLoginToken(token)\n\t\t}\n\t}catch(e){\n\t\tjava.log(e)\n\t}\n}\n\nfunction LoginToken(token){\n\tlet Map = source.getLoginInfoMap()??{};\n\tlet LoginMap = source.getLoginHeaderMap()??{};\n\tlet fl = LoginMap[\"fl\"]??\"\";\n\tfl = (fl==\"\"||fl==null)?\"9,10\":fl;\n\n\tlet bq = LoginMap[\"bq\"]??\"\";\n\tbq = (bq==\"\"||bq==null)?\"5\":bq;\n\t\n\tlet at = Map.get(\"作者列表（作者::作者id 注意添加多个用空格分割）\");\n\tat = (at==\"\"||at==null)?\"\":at;\n\tlet classCode = LoginMap[\"classNum\"]??\"\";\n\t\n\tlet option = {\n\t \t\"token\":String(token).replace(/token=|\\s|&.*/g,''),\n\t \t\"fl\":String(fl),\n\t \t\"bq\":String(bq),\n\t \t\"at\":java.base64Encode(String(at)),\n\t \t\"classNum\":classCode\n\t \t}\n\tsource.putLoginHeader(JSON.stringify(option))\n}\n\n\nfunction login(){\n\tlet LoginMap = source.getLoginHeaderMap()??{};\n\tLoginMap = JSON.stringify(LoginMap);\n\tlet token;\n\tlet t = source.getLoginInfoMap()[\"抓包token登录\"];\n\tif(/\\{\"token\":\"\\d+_\\w{16,}/.test(LoginMap))token = JSON.parse(LoginMap).token??\"\";\n\tif(t!=\"\"&&t!=null)token = t;\t\n\tLoginToken(token);\n}\n\n</js>",
    "loginUi": "[\n{\n    \t  name:\"☕️支持源作者\",\n    \t  type: \"button\",\n       action: \"toThank()\",\n       \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 1\n    }\n    \t},\n{\n    \t  name:\"获取📚书架数据\",\n    \t  type: \"button\",\n       action: \"getShelf()\"\n    \t},\n{\n    \t  name:\"选择📚书架序号\",\n    \t  type: \"button\",\n       action: \"showShelf()\",\n       \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.4\n    }\n    \t},\n    \t{\n    \"name\": \"选择🌸分类序号\",\n    \"type\": \"button\",\n    \"action\": \"getFl()\",\n    \"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.4\n    }\n  },\n  \t{\n\t\tname: \"选择🏷标签序号\",\n\t\ttype: \"button\",\n\t\taction: \"getTag()\",\n\t\t\"style\": {\n      \"layout_flexGrow\": 1,\n      \"layout_flexBasisPercent\": 0.4\n    }\n\t},\n\t{\n    \t  name:\"抓包token登录\",\n    \t  type:\"password\"\n    \t},\n    {\n    \t  name:\"账号\",\n    \t  type:\"text\"\n    \t},\n    \t{\n    \t  name:\"密码\",\n    \t  type:\"password\"\n    \t},\n    \t{\n    \t  name:\"验证码（填完验证码后，要点👤登录）\",\n    \t  type:\"text\"\n    \t},\n    \n   {\n        name: \"📮邮箱验证码和👤登录\",\n        type: \"button\",\n        action: \"getCode('email')\"\n    },\n    {\n        name: \"📱手机验证码和👤登录\",\n        type: \"button\",\n        action: \"getCode('phone')\"\n    },\n\t\t{\n    \t\tname:\"作者列表（作者::作者id 注意添加多个用空格分割）\",\n    \t\ttype:\"text\"\n    \t\t}\n    \t\t\n]",
    "loginCheckJs": "//8小时检查一遍签到\nif(!cache.getFile(\"jjtime\")) {\n    cache.putFile(\"jjtime\", true, 23200);\n    const enbody = `${String(Date.now())}:${Map(\"token\")}`;\n    const option = {\n        method: \"POST\",\n        body: `versionCode=313&sign=${encode(enbody)}`\n    };\n    const jjsign = java.ajax(\"https://app.jjwxc.org/androidapi/signin,\" + JSON.stringify(option));\n    java.toast(JSON.parse(jjsign).message);\n}result",
    "bookUrlPattern": "https?://app-cdn.jjwxc.net/androidapi/novelbasicinfo\\?novelId=\\d+",
    "header": "<js>\n\n//let date=\"Mobile \"+Date.now();\nresult = JSON.stringify({\n\t\"versiontype\":\"reading\"\n\t})\n\t\n</js>",
    "searchUrl": "https://android.jjwxc.net/androidapi/search?versionCode=191&keyword={{key;java.put(\"key\",key)}}&type=1&page={{page;java.put(\"page\",page)}}&searchType=8&sortMode=DESC",
    "rules": {
      "search": {
        "author": "$.author",
        "bookList": "$.items[:10]\n<js>\nlet page = java.get(\"page\");\nlet key = java.get(\"key\");\nlet authorUrl = `https://app.jjwxc.org/androidapi/search?versionCode=191&keyword=${key}&type=2&page=${page}&searchType=7&sortMode=DESC`;\nconst authorlist = JSON.parse(java.ajax(authorUrl))?.items;\n\nlet list = authorlist?result.toArray().concat(authorlist):result;\nlet json = [];\nfor(i in list){\n    try{\n    \t   let item = list[i];\n        let id = item?.novelid;\n        let url = `https://www.jjwxc.net/onebook.php?novelid=${id}`;     \n        let html = String(java.ajax(url));\n        java.setContent(html);\n        let J = org.jsoup.Jsoup.parse(html);\n        let authorid = J.select('h1+span>a, h2 a').attr(\"href\").match(/(\\d+)/)[1];\n        let des = String(J.select(\"span[style='color:#F98C4D']\").text())\n            .replace(/立意：/, '◎ ')\n            .replace(/一句话简介：/, '◎ ') + \"◎\" + java.getElement(\"id.novelintro\").text();\n        title = J.select('h1').text();\n        let author = J.select('span[itemprop=\"author\"]').text();\n        let cover = J.select(\".noveldefaultimage\").attr(\"src\");\n\n        if (/(?:postimg|bmp|alicdn)\\./.test(cover)) {\n            cover = `https://i9-static.jjwxc.net/novelimage.php?novelid=${id}`;\n        }\n\n        let header = {\n            headers: {\n                referer: cover.match(/(^https?:\\/\\/.*?\\/)/)[1]\n            }\n        };\n        cover = `${cover},${JSON.stringify(header)}`.replace(/wx\\d+/, 'wx2');\n\n        let cat = String(J.select('a[style=\"text-decoration:none;color: red;\"]').text()).replace(/\\s/g, ',');\n        let status = String(J.select('span[itemprop=\"updataStatus\"]').text());\n        \n        let size = String(J.select('span[itemprop=\"wordCount\"]').text()).replace(/字/, '');\n        let n = String(java.getElement('@@id.oneboolt@tag.tr.-2@span').text())\n            .replace(/\\n/, '•')\n            .replace(/\\*最新更新/, '')\n            .replace(/(.*?)\\[(?:VIP|福利番外)\\]/, '🔒$1');\n        let num = java.getElement('@@id.oneboolt@tag.tr.-2@tag.td.0').text();\n        let genre = J.select('[itemprop=\"genre\"]').text().split('-')[1];\n        let view = html.match(/<span>作品视角：<\\/span>([^<]+)<\\/li>/)[1].replace(/\\s/g, '');\n        \n        json.push({\n            title,\n            author,\n            cat: `${view},${status},${genre},${cat}`,\n            size,\n            url: `https://app-cdn.jjwxc.net/androidapi/novelbasicinfo?novelId=${id}`,\n            des,\n            new: `${num}、${n}`.replace(/(\\d+、)🔒/, '🔒$1').replace(/^章节、|、$/, ''),\n            cover\n        });\n    } catch (e) {\n        java.log(\"搜索列表的错误：\"+e);\n    }\n}\nJSON.stringify(json)\n</js>\n$.[*]",
        "bookUrl": "$.url",
        "checkKeyWord": "穿进刑侦文",
        "coverUrl": "$.cover",
        "intro": "$.des",
        "kind": "$.cat",
        "lastChapter": "$.new",
        "name": "$.title",
        "wordCount": "$.size"
      },
      "find": {
        "author": "$.authorName||$.authorname",
        "bookList": "@JSon:$..[?(@.novelName)]&&$..[?(@.novelname)]&&$.massage\n<js>\nif (result) {\n    function remove(indices, array) {\n        indices.sort((a, b) => b - a); // 按降序排序\n        indices.forEach(index => {\n          //  java.log(\"❗️删除序号:\" + index);\n          //  java.log(array[index].channelName);\n            array.splice(index, 1); // 删除元素\n        });\n        \n        return array;\n    }\n\n    if (baseUrl === 'https://app-cdn.jjwxc.net/bookstore/getFullPage?channel=bhxs&version=3' || baseUrl.match(/novelfree/)) {\n        let list = JSON.parse(src);\n\n        // 将 data_random 中的数据合并到 data 中\n        list.forEach(item => {\n            if (item.data_random && item.data_random.data_groups && item.data_random.data_groups.length > 0) {\n                // 取 data_random 中的第一组数据\n                const randomData = item.data_random.data_groups[0];\n                if (item.data) {\n                    // 将 randomData 合并到 data 中\n                    item.data = item.data.concat(randomData);\n                } else {\n                    // 如果 data 不存在，直接赋值\n                    item.data = randomData;\n                }\n                // 删除 data_random，避免重复处理\n                delete item.data_random;\n            }\n        });\n\n        // 修改 channelName\n       list.forEach(item => {\n    let { channelName, data: blist } = item;\n    if (blist) {\n    \t        // 检查 data 数组里是否有 list 数组\r\n        const hasList = blist.some(b => b.list);\r\n        if (hasList) {\r\n            // 如果有 list 数组，只保留 data 数组的第一个元素\r\n            item.data = [blist[0]];\r\n            blist = item.data;\r\n        }​\n        blist.forEach(b => {\n            if (b.list) {\n            \t   lchannelName = b.channelName\n                b.list.forEach(c => c.channelName = b.channelName);\n            }\n            b.channelName = channelName;\n        });\n    } else {\n        item.channelName = channelName;\n    }\n});\n\n        // 根据 URL 删除指定项\n        if (!baseUrl.match(/novelfree/)) {\n            list = remove([0, 6, 11, 12], list);\n        } else {\n            list = remove([1], list);\n        }\n\n        result = JSON.stringify(list);\n    } else if (baseUrl.match(/signin|getSearchForKeyWords/)) {\n        result = `{signIn:[${src}]}`;\n    } else {\n        result = result;\n    }\n} else {\n    result = \"\";\n}\n</js>\n$..[?(@.novelName)]&&$..[?(@.novelname)]&&$.signIn[*]",
        "bookUrl": "http://app-cdn.jjwxc.net/androidapi/novelbasicinfo?novelId={{$.novelid||$.novelId}}@put:{id:$.novelid||$.novelId}",
        "coverUrl": "@JSon:$.cover||$.novelCover||$.ebookurl||$.novel_cover\n<js>\nif(/(?:postimg|bmp|alicdn)\\./.test(result)){\n\tjava.setContent(src);\n\tresult = \"https://i9-static.jjwxc.net/novelimage.php?novelid={{$.novelId}}\"\n\t}else{\n\t\tresult = result\n\t\t}\n\t\theader = {\n\t\t\"headers\":{\n\t\t\t\"referer\":result.match(/(^https?:\\/\\/.*?\\/)/)[1]\n\t\t\t}\n\t\t}\nresult = (result +\",\"+ JSON.stringify(header)).replace(/wx\\d+/,'wx2')\n</js>",
        "intro": "&lrm;---------\n📁{{$.className}}\n🏷{{$.novelClass||$.type##-##🏷}}\n📖{{$.novelIntroShort||$.novelintroshort}}\n<js>\nfree=\"{{$.freeDate}}\";\nif(free!=\"\"){\nresult=result+\"\\n🗓 限免日期：\"+free+\"\\n\"\n}else{\nresult=result\n}\n</js>\n##(?:🏷|📁)\\s+",
        "kind": "{{java.getString('$.novelStep||$.novelstep')=='2'?'已完结':'连载中';}},{{$.channelName&&$.tags##\\s+##,}}",
        "lastChapter": "第{{$.maxChapterId}}章##第章",
        "name": "$.novelName||$.novelname||$.message",
        "wordCount": "$.novelSizeformat||$.novelSize"
      },
      "bookInfo": {
        "author": "$.authorName",
        "canReName": "1",
        "coverUrl": "{{$.originalCover||$.novelCover}}\n<js>\nif(/(?:postimg|bmp|alicdn)\\./.test(result)){\n\tjava.setContent(src);\n\tresult = \"https://i9-static.jjwxc.net/novelimage.php?novelid={{$.novelId}}\"\n\t}else{\n\t\tresult = result\n\t\t}\n\t\theader = {\n\t\t\"headers\":{\n\t\t\t\"referer\":result.match(/(^https?:\\/\\/.*?\\/)/)[1]\n\t\t\t}\n\t\t}\nresult = (result +\",\"+ JSON.stringify(header)).replace(/wx\\d+/,'wx2')\n</js>",
        "intro": "<js>\n//请假条\ntry{\na=JSON.parse(java.ajax('http://app.jjwxc.org/androidapi/getnovelOtherInfo?novelId='+baseUrl.match(/(\\d+)/)[1]+'&type=novelbasicinfo&versionCode=163'));\n\njava.put(\"pv\",a.novelreview)\n\n$=a.novelLeave;\nn='\\n';\nleave=$.leaveContent?'————————•————————'+n+'​'+n+$.leaveDateBack+n+'​'+'​'+'      '+$.leaveContent+n+$.leaveDate.replace(/请假时间：/,'⌚️')+n+$.leaveIntro:'';\njava.put('leave',leave);\njava.put('intro',JSON.parse(result).novelIntro.replace(/\\#/g,'＃'));\nresult}catch(err){\njava.log(err);\njava.put('leave',\"\");\njava.put('intro',\"\");\n}\n</js>\n{{/开启购买/.test(book.getVariable(\"custom\"))?\"&nbsp;&nbsp;💰已开启自动购买下五章，建议删除书籍变量的[开启/关闭购买]文字，避免刷新书籍时反复进行网络请求<br>\\nㅤ<br>\":\"\"}}\n&nbsp;\n📖{{$.novelIntroShort##。$}}📖\n{{'\\nㅤ'}}<br>\n\n🏆{{$.ranking}}    🍼{{$.nutrition_novel}}    📝{{$.comment_count}}    🔖{{$.novelStyle}}\n◉ 最新：{{java.get(\"lastChapter\")}}<br>\n◉ 标签：{{$.novelTags##,|\\s##🏷}}<br>\n◉ {{$.protagonist##,|，|；|;##、}}<br>\n◉ {{$.costar##,|，|；|;##、}}<br>\n◉ {{$.other##,|，|；|;##、}}<br>\n◉ 视角：{{$.mainview}}<br>\n◉ 评分：{{java.get(\"pv\")}}<br>\n◉ 收藏：{{$.novelbefavoritedcount}}<br>\n{{String(java.get('intro')).replace(/立意:/,'◎◎ 立意：')}}<br>{{java.get('leave')}}<br>\n{{'\\n'+'​'}}\n添加作者：{{$.authorName}}::{{$.authorId}}\n<js>\nresult=String(result);\nli=result.match(/◎ 立意.*/)?'ㅤ\\n'+result.match(/(◎ 立意.*?<br>)/)[1]:'';\nString(result).replace(/📖📖|📖''📖/,'').replace(/(◉ 收藏.*?<br>)/,'$1\\n'+li+'ㅤ\\n'+'————————•————————\\n').replace(/◎◎ 立意.*<br>/,'').replace(/(?:◉ 标签：|◉ 主角：|◉ 配角：|◉ 其它：|◉ 视角：|◉ 评分：|◉ 最新：|ㅤ\\n◎ 立意：)<br>/g,'')</js>",
        "kind": "{{step=java.getString('$.novelStep')=='2'?'已完结':'连载中';}},{{$.novelClass}}##-##,",
        "lastChapter": "<js>\ntry{\n\tnovelId = baseUrl.match(/(\\d+)/)[1];\nlastStr = java.ajax(\"https://android.jjwxc.net/androidapi/chapterList?novelId=\"+novelId+\"&more=0&whole=1\");\n\ncache.put(\"有卷名src\"+novelId, lastStr, 60)\n\nlast=JSON.parse(lastStr).chapterlist;\n$=last[last.length-1];\nvip= ($.isvip!=='0');\npoint=($.point=='0');\nchapterMessage =/福利番外/.test($.chapterMessage);\nvip = (point&&vip)?\"\":\"🔒\"\nvip = chapterMessage?\"🎁\":vip;\nchapterMessage =/限免/.test($.chapterMessage);\nvip = chapterMessage?\"🆓\":vip;\n\nchapterid=$.chapterid;\nchaptername=$.chaptername;\ndate=$.chapterdate;\nresult = vip+chapterid+'.'+chaptername+'•'+date;\n\njava.put(\"lastChapter\",result)\n}\ncatch(err){\nresult=\"请刷新或暂无目录\"\n}\n</js>",
        "name": "$.novelName",
        "tocUrl": "@js:\ntoken = Map(\"token\");\nnovelId=baseUrl.match(/novelId=(\\d+)/)[1];\nurl = `token=${token}&novelId=${novelId}`;\nresult = `data:token;base64,${java.base64Encode(url)},{\"type\":\"jjwx\"}`;",
        "wordCount": "$.novelSizeformat||novelsizeformat"
      },
      "toc": {
        "chapterList": "<js>\ntry{\nbaseUrl = bDe(baseUrl);\nvar novelId=getNid(baseUrl);\nvar token = Map(\"token\");\n\nvar 有卷名src =!cache.get(\"有卷名src\"+novelId)?java.ajax(\"https://android.jjwxc.net/androidapi/chapterList?novelId=\"+novelId+\"&more=0&whole=1\"):cache.get(\"有卷名src\"+novelId);\n\n有卷名src = JSON.parse(有卷名src);\n\nvar message = 有卷名src?.message;\nif(/\\d+_[\\w\\d]{16,}/.test(token)&&!/1058/.test(message)){\n\t\nlet \ttokenUrl =  \"https://android.jjwxc.net/androidapi/chapterList?novelId=\"+novelId+\"&more=0&whole=1&token=\"+token;\n\t\nlet tokenSrc = (!cache.get(\"tokenSrc\"+novelId)||/登入验证失败/.test(cache.get(\"tokenSrc\"+novelId)))?JSON.parse(java.ajax(tokenUrl)):JSON.parse(cache.get(\"tokenSrc\"+novelId));\n\n\ncache.delete(\"有卷名src\"+novelId);\n\n\nlet lessData = tokenSrc.chapterlist;\n\nlet moreData = 有卷名src.chapterlist;\nif(lessData!==undefined){\nfor(let item of lessData) {\n    let match = moreData.find(moreItem => moreItem.chapterid === item.chapterid && moreItem.chaptertype === item.chaptertype);\n    if(match) {\n        Object.assign(match, item);\n    }\n}\n}\nJSON.stringify(moreData)\n}else{\n\tresult = JSON.stringify(有卷名src)\n\t}\n}catch(e){\n\tjava.log(e)\n\t}\n</js>\n$.chapterlist[*]||$.[*]\n\n<js>\nfunction readEncrypt(novelid,flag) {\n\t     token = Map(\"token\");   \n     \tFORUMSIGNTAG = 1;\n       READSIGNTAG = 0;\n\t      strArr = [token,novelid,\"autosubscribe\",flag];       \n\t      sb = new Date().getTime().toString();\n         length = strArr.length;\n        for ( i2 = READSIGNTAG; i2 < length; i2 += FORUMSIGNTAG) {\n            str = strArr[i2];\n            sb+=\":\";\n            sb+=str;\n        }   \n     let option = {\n\t    \t\"method\":\"POST\", \t\"body\":\"versionCode=313&sign=\"+encode(sb)\n\t    \t}\n\t    \nurl = \"https://android.jjwxc.com/androidapi/autoSubscribe,\"+JSON.stringify(option)\n\n java.longToast(JSON.parse(java.ajax(url)).message)\n    }\n    \n if(/(开启|关闭)购买/.test(book.getVariable(\"custom\"))){\n \ta = /关闭购买/.test(book.getVariable(\"custom\"))?\"cancel\":(/开启购买/.test(book.getVariable(\"custom\"))?\"open\":\"cancel\");\n \t\n readEncrypt(result[0].novelid,a)\n \t}\n \t\nresult = result[0]==\"1058\"||result[0]==\"1068\"?JSON.stringify([{\"chaptername\":\"暂无目录\",\"chapterid\":\"\",\"islock\":\"0\"}]):result;\n</js>\n$.[*]",
        "chapterName": "<js>\n$=result;title=$.chaptername;title=String(title).replace(/^\\s+/,'');intro=$.chapterintro;vip=$.isvip!='0';lock=$.islock!='0';type=$.chaptertype=='1'?true:false;num=!type?$.chapterid+\"  ☪ \":'';\nbbb = book.getVariable(\"custom\");sss = source.getVariable();\nif(/去章节序号/.test(bbb) || /去章节序号/.test(sss)){\nnum=''\n}\nif(/章节名/.test(bbb) || /章节名/.test(sss)){\nnum=!type?\"第\"+$.chapterid+\"章 \":'';\n}\ntitle=type?'📖 '+title+' 📖':title;\nif( (/目录简介/.test(bbb) || /目录简介/.test(sss))&&!/📖/.test(title)){\n\tfu = /目录简介【(.*?)】/.test(bbb)?bbb.match(/目录简介【(.*?)】/)[1]:sss.match(/目录简介【(.*?)】/)[1]\n\ttitle = title +fu+intro\n\t}else{\n\t\tjava.put(\"intro1\",intro);\n\t\t}\nl=lock?'[此章节已锁]':'';\nresult=num+title+l;\n</js>",
        "chapterUrl": "@js:\nbaseUrl = bDe(baseUrl);\nnovelId=getNid(baseUrl);\ntoken = Map(\"token\");\n$=result;\nchapterid=$.chapterid;\nvip=$.isvip!='0';\ntype=$.chaptertype=='1';\nif( !type){\nif(!vip){\nresult='https://app.jjwxc.net/androidapi/chapterContent?novelId='+novelId+'&chapterId='+chapterid\n}else{\nurl = `token=${token}&novelId=${novelId}&chapterId=${chapterid}`;\nresult = `data:vipContent;base64,${java.base64Encode(url)}`\n\t}\nresult = result +`,{\t\"js\":\"book?result:toReview(${novelId},${chapterid},'${result}')\",\"type\":\"jjwx\"}`;\n}else{ result=\"\"}",
        "isPay": "<js>\npoint=(\"{{$.point}}\"=='0');\nchapterMessage =!/VIP|番外/.test(\"{{$.chapterMessage}}\")\nif(chapterMessage||point){\n\tresult=true\n\t}else{\n\t\tresult=false\n\t\t}\n</js>",
        "isVip": "<js>\nvip = (\"{{$.isvip}}\"!=\"0\");\ntype = (\"{{$.chaptertype}}\"=='1');\nresult = !type?(vip?true:false):false\n</js>",
        "isVolume": "<js>\n\"{{$.chaptertype}}\"=='1'?true:false;\n</js>",
        "preUpdateJs": "try{\n\tvar tocUrl = bDe(book.tocUrl);\nvar token = getToken(tocUrl);\nvar novelId = getNid(tocUrl);\n\tvar newToken = Map(\"token\");\n\tif(!/^\\d+_[a-z\\d]{32}$/.test(newToken) && newToken!=\"\"){\n\t\tsetHead(\"token\",\"\");\n\t\tjava.longToast(\"token不正确，已清除token值，请重新登录\");\n\t}\n\tvar oldToken = token;\n\tif(newToken != oldToken){\n\t    token = newToken\n\t\t}\nif(/^\\d+_[\\w\\d]{16,}/.test(newToken)){\n\t tocUrl = \"https://android.jjwxc.net/androidapi/chapterList?novelId=\"+novelId+\"&more=0&whole=1&token=\"+token;\n\t \n   let src = java.ajax(tocUrl);\n   cache.put(\"tokenSrc\"+novelId, src, 60)\n   \n\t let message = JSON.parse(src).message;\n\t if(/登入验证失败/.test(message)){\n\t \t          setHead(\"token\",\"\");  \t  \t      \n\t            java.longToast(\"登录token已失效，已清除token值，请重新登录\");\n\t           java.refreshTocUrl();  \n\t    }else if(newToken != oldToken){\n\t       //java.longToast(\"目录链接更改为新token\");\n\t        \tjava.refreshTocUrl();\n\t    }else{\n\t\t\t    \tcache.put(\"tokenSrc\"+novelId, src, 60)\n\t\t}  \n\t}else if(/token=&/.test(tocUrl)){\n\t\t\t  java.refreshTocUrl();\n\t\t\t // java.longToast(\"更新目录链接的token\");\n\t\t\t}  \n\t}catch(e){\n\tjava.log(\"这是错误：\"+e);\n\t}",
        "updateTime": "{{$.chaptersize}}字•{{$.chapterdate}}•{{$.chapterintro##^\\s*}}##^•|0000-00-00.*|^0字•|•$"
      },
      "content": {
        "content": "<js>\nfunction decode(){\n\tbaseUrl = `https://app.jjwxc.org/androidapi/chapterContent?versionCode=381&${bDe(baseUrl)}`;\n\t   \n    //let date = \"Mobile \" + Date.now();\n    let response = java.get(baseUrl, {});\n    let content = String(response.body());\n    isPay = !/\"content\"/.test(content);\n    \n    if(isPay){\n    let accesskey = String(response.header(\"accesskey\"));\n    let keyString = String(response.header(\"keystring\"));\n\n    let accesskeyLen = accesskey.length;\n    let v6 = accesskey.charCodeAt(accesskeyLen - 1);\n    let v9 = 0;\nfor (var i = 0; i < accesskey.length; i++) {\n    v9 += accesskey.charCodeAt(i);\n}\n\n    let v15 = v9 % keyString.length;\n    let v17 = Math.floor(v9 / 65);\n    let v18 = keyString.length;\n    let v43 = keyString.substring(v15, v17 + v15 > v18 ? v18 : v17 + v15);\n\n    let v32 = content.length;\n    let [v38, dest] = (v6 & 1) !== 0 ? [content.slice(-12), content.slice(0, -12)] : [content.slice(0, 12), content.slice(12)];\n\n    let key = java.md5Encode(v43 + v38).slice(0, 8);\n    let iv = java.md5Encode(v38).slice(0, 8);\n    content = java.createSymmetricCrypto(\"DES/CBC/PKCS5Padding\", key, iv).decryptStr(dest);\n    }\n    \n    return content\n}\n\nif (/jjwxc|vipContent/.test(baseUrl)) {\n\t  \n    let intro = String(java.get(\"intro1\")).replace(/\\s/g, '');\n    const hasContent = /\"content\"/.test(result);\n    \n    java.setContent(hasContent ? result : decode());\n    intro = intro ? `◎${intro}◎<br>` : '';\n\n    let content = String(java.getString(\"$..content\"));\n    let saybody = java.getString(\"$..sayBody\");\n    let say = /[\\u4e00-\\u9fa5]/.test(saybody) \n                      ? `\\n【📢作者有话说】\\n${saybody}` : '';\n  \n   \n    \n    if (/token|vipContent/.test(baseUrl)) {\t   \n        const vipc = content.length > 30\n        ? java.createSymmetricCrypto(\"DES/CBC/PKCS5Padding\", \"KW8Dvm2N\", \"1ae2c94b\").decryptStr(content) \n        : `${java.getString(\"$..message\")}\\n登录后请更新目录，刷新正文`;\n        result = intro + vipc + say;\n    } else {\n        result = intro + content + say;\n    }\n} else {\n    result = \"\";\n}\n\n// 评论处理\nconst bbb = book.getVariable(\"custom\");\nconst sss = source.getVariable();\nif (/评论\\d+/.test(bbb) || /评论\\d+/.test(sss)) {\n    const commentNum = (/评论(\\d+)/.exec(bbb) || /评论(\\d+)/.exec(sss))[1];\n    const commentUrl = baseUrl.replace(/androidapi/, 'comment').replace(/chapterContent/, 'getCommentList') + `&limit=${commentNum}&offset=0`;\n    const comment = JSON.parse(java.ajax(commentUrl));\n    const cflag = comment.code === \"200\" || comment.code === undefined;\n    let commentb = '';\n    if (cflag) {\n        const commentList = comment.commentList || comment.data?.commentList || [];\n        commentb = commentList.map(b => `@${b.commentAuthor} 🕘${b.commentDate}\\n${b.commentBody}\\n&lrm;\\n`).join('');\n    } else {\n        commentb = comment.message;\n    }\n\n    result += `\\nㅤ\\n最新评论：\\n${commentb.replace(/&lt;br&gt;/g, '\\n')}`;\n}\n\nresult;\n</js>\n##为营造更好的评论环境，近期网站要求发评须进行实名认证，未实名用户评论暂时仅在对应作者后台及发评用户后台可见.*|获取正文失败[\\s\\S]+|◎\\s+?◎|◎undefined◎",
        "imageStyle": "TEXT",
        "payAction": "baseUrl = bDe(baseUrl);\ncid = baseUrl.match(/chapterId=(\\d+)/)[1];\nnid = baseUrl.match(/novelId=(\\d+)/)[1];\ntoken = Map(\"token\");\nenbody = String(Date.now())+\":\"+token+\":\"+nid;\nsign = encode(enbody)\nbody = \"versionCode=287&novelId=\"+nid+\"&chapters=\"+cid+\"&orderType=15&isautoBuy=0&autosubscribeStatus=0&notUseBackpoint=&sign=\"+sign;\nurl = \"https://android.jjwxc.net/androidapi/buy,\"\npost = {\n\t\"method\":\"POST\",\n\t\"body\":String(body)\n\t}\n a = java.ajax(url+JSON.stringify(post));\n if(/购买成功/.test(JSON.parse(a).message)){\n \tjava.longToast(JSON.parse(a).message);\n \tresult  = true\n \t}else{\n \t\tmm = JSON.parse(a).message==\"\"?JSON.parse(a).popupdata.popupmessage+\"\\n❗️进晋江app进行一次验证后❗️才能在阅读app使用购买功能\":JSON.parse(a).message;\n \t\tjava.longToast(mm);\n \t\t}",
        "replaceRegex": "<js>\n//去除章节简介与正文重复\nif(/^◎/.test(result) ){\nchapter = result.match(/◎([\\s\\S]+?)(…)*◎/)[1].replace(/\\s/g,'').replace(/,/g,'，');\n\nchapter2=result.match(/◎[\\s\\S]+?◎([\\s\\S]+)/)[1].replace(/\\s/g,'').replace(/,/g,'，');\n\n//前4个字相同就删除\nnum = 4\nif(chapter.substring(0,num)==chapter2.substring(0,num)){\n\tresult = result.replace(/◎[\\s\\S]+?◎/,'')\n\t}else{result}\n}else{result}\n\n\n/*\n——◎。！？，；：、.?!,;:》 】）”’…~\"')\n如果不是以这些标点符号结尾，里面有一个字符跟章节名相同了就会被删除\n*/\n\tfunction removeDuplicatedParagraphs(text, chapterTitle) {\n    var paragraphs = text.split('\\n');\n    \n    // 检查第一段是否包含特定字符 ◎\n    var firstParagraph = paragraphs[0].trim();\n    var containsSpecialChar = firstParagraph.includes('◎');\n    \n    // 根据是否包含特殊字符决定处理哪一段\n    var targetIndex = containsSpecialChar ? 1 : 0;\n    var targetParagraph = paragraphs[targetIndex].trim();\n    \n    // 检查目标段落结尾是否有标点符号\n    var lastChar = targetParagraph.charAt(targetParagraph.length - 1);\n    var isPunctuation = /[——◎。！？，；：、\\.\\?!,;:》 】）”’…~\"'\\)]/.test(lastChar);\n    \n    if (!isPunctuation) {\n        // 只要有一个字与章节名相同就删除\n        for (var char of chapterTitle) {\n            if (targetParagraph.includes(char)) {\n                if (char === ' ' || char === '☪') continue;\n                java.log(\"删除当前段落：\"+targetParagraph)\n                java.log(\"当前章节名：\"+chapterTitle)\n                java.log(\"相同文字：\"+char)\n                paragraphs.splice(targetIndex, 1);\n                break;\n            }\n        }\n    }\n\n    return paragraphs.join('\\n');\n}\nconst bbb = book.getVariable(\"custom\");\nconst sss = source.getVariable();\nif(/净化/.test(sss)||/净化/.test(bbb))result = removeDuplicatedParagraphs(result, title);\n\nresult.replace(/<br\\/>/g,'\\n')\n</js>"
      }
    }
  }
]